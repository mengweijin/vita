import{t as o,u as l}from"./template-CAckB5T-.js";const a="vita-storage";let e={name:"user",get:function(){return layui.sessionData(a)[this.name]},set:function(t){layui.sessionData(a,{key:this.name,value:t})},del:function(){layui.sessionData(a,{key:this.name,remove:!0})},getToken:function(){var t;return(t=this.get())==null?void 0:t.token}},i=layui.$,u={isLogin:function(){return!l.isEmpty(e.get())},login:function(t){i.ajax({url:"/login",method:"post",data:t}).then(n=>{e.set(n.data),this.loadAdmin()})},logout:function(){i.ajax({url:"/logout",method:"post"}).then(t=>{sessionStorage.clear(),this.loadLogin()})},loadAdmin:function(){o.load("#app","src/views/admin.html")},loadLogin:function(){o.load("#app","src/views/login.html")},loadHeader:function(){o.load(".layui-header","src/views/layout/lay-header.html")},loadSide:function(){o.load(".layui-side","src/views/layout/lay-side.html")},loadBody:function(){o.load(".layui-body","src/views/layout/lay-body.html")},loadFooter:function(){o.load(".layui-footer","src/views/layout/lay-footer.html")}};export{u as a,e as u};
