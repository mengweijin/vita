import{t as o,u as a}from"./template-7vu1SOT6.js";const t="vita-storage";let e={name:"user",get:function(){return layui.sessionData(t)[this.name]},set:function(o){layui.sessionData(t,{key:this.name,value:o})},del:function(){layui.sessionData(t,{key:this.name,remove:!0})},getToken:function(){var o;return null==(o=this.get())?void 0:o.token}},i=layui.$,n={isLogin:function(){return!a.isEmpty(e.get())},login:function(o){i.ajax({url:"/login",method:"post",data:o}).then((o=>{e.set(o.data),this.loadAdmin()}))},logout:function(){i.ajax({url:"/logout",method:"post"}).then((o=>{sessionStorage.clear(),this.loadLogin()}))},loadAdmin:function(){o.load("#app","src/views/admin.html")},loadLogin:function(){o.load("#app","src/views/login.html")},loadHeader:function(){o.load(".layui-header","src/views/layout/lay-header.html")},loadSide:function(){o.load(".layui-side","src/views/layout/lay-side.html")},loadBody:function(){o.load(".layui-body","src/views/layout/lay-body.html")},loadFooter:function(){o.load(".layui-footer","src/views/layout/lay-footer.html")}};export{n as a,e as u};
