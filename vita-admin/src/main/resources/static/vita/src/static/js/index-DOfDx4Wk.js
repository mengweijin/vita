function e(){import.meta.url,import("_").catch((()=>1)),async function*(){}().next()}import"./modulepreload-polyfill-Dqv5PPZA.js";import"./template-7vu1SOT6.js";import{a as t,u as o}from"./admin-C0ASnni1.js";let a=layui.$,i=layui.layer;a.ajaxSetup({loading:!0,layerIndex:-1,cache:!1,async:!0,contentType:"application/json;charset=UTF-8",processData:!1,beforeSend:function(e){if(this.loading&&(this.layerIndex=i.load(2,{shade:[.5,"#393D49"]})),"html"!==this.dataType){let e="/",t=this.url;t.startsWith(e)&&(t=t.slice(e.length)),this.url="".concat("/prod-api","/").concat(t)}this.data&&-1!==this.contentType.indexOf("application/json")&&(this.data=JSON.stringify(this.data)),e.setRequestHeader("Authorization","Bearer "+o.getToken())},error:function(e,o,a){var n;let s=null==(n=null==e?void 0:e.responseJSON)?void 0:n.msg;switch(console.error(null==e?void 0:e.responseJSON),e.status){case 400:i.msg(s,{icon:0});break;case 401:s="未登录或会话已过期！",i.alert(s,{icon:0,closeBtn:0,title:"会话过期提醒！"},(function(e){i.close(e),sessionStorage.clear(),t.loadLogin()}));break;case 403:i.open({icon:4,title:"无权限！",content:s,closeBtn:0,yes:function(e,t,o){i.close(e)}});break;case 404:i.msg(s,{icon:2,title:"找不到资源！"});break;case 408:i.msg("请求超时！",{icon:2});break;default:i.msg("服务器发生异常，请联系管理员！",{icon:2})}},complete:function(e,t){i.close(this.layerIndex),this.url.endsWith("/login")||"GET"!==this.type.toUpperCase()&&200==e.status&&i.msg("操作成功！",{icon:1,time:800})}}),t.isLogin()?t.loadAdmin():t.loadLogin();export{e as __vite_legacy_guard};
