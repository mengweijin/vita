System.register(["./template-legacy-CZYK-xY0.js"],(function(t,o){"use strict";var e,a;return{setters:[t=>{e=t.t,a=t.u}],execute:function(){const o="vita-storage";let i=t("u",{name:"user",get:function(){return layui.sessionData(o)[this.name]},set:function(t){layui.sessionData(o,{key:this.name,value:t})},del:function(){layui.sessionData(o,{key:this.name,remove:!0})},getToken:function(){return this.get()?.token}}),n=layui.$;t("a",{isLogin:function(){return!a.isEmpty(i.get())},login:function(t){n.ajax({url:"/login",method:"post",data:t}).then((t=>{i.set(t.data),this.loadAdmin()}))},logout:function(){n.ajax({url:"/logout",method:"post"}).then((t=>{sessionStorage.clear(),this.loadLogin()}))},loadAdmin:function(){e.load("#app","src/views/admin.html")},loadLogin:function(){e.load("#app","src/views/login.html")},loadHeader:function(){e.load(".layui-header","src/views/layout/lay-header.html")},loadSide:function(){e.load(".layui-side","src/views/layout/lay-side.html")},loadBody:function(){e.load(".layui-body","src/views/layout/lay-body.html")},loadFooter:function(){e.load(".layui-footer","src/views/layout/lay-footer.html")}})}}}));
