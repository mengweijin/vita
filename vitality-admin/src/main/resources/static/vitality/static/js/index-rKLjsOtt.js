var K=Object.defineProperty,W=Object.defineProperties;var X=Object.getOwnPropertyDescriptors;var T=Object.getOwnPropertySymbols;var Z=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable;var I=(s,n,a)=>n in s?K(s,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[n]=a,B=(s,n)=>{for(var a in n||(n={}))Z.call(n,a)&&I(s,a,n[a]);if(T)for(var a of T(n))ee.call(n,a)&&I(s,a,n[a]);return s},D=(s,n)=>W(s,X(n));import{useOss as oe}from"./hook-Dl0hKZgC.js";import{w as L,r as k,gC as te,gD as le,c as ne,E as c,p as V,V as ae,S as l,I as t,k as e,T as d,O as se,av as ie,o as re,ab as ce,q as z,F as de,H as O,Q as me,R as P,_ as pe}from"./index-CKX0gG-m.js";import{u as f}from"./hooks-BeD412IW.js";import{P as ue}from"./index-CKi_LGl7.js";import{d as fe}from"./delete-Ce0TSdK5.js";import{d as _e}from"./refresh-C_2cW1e5.js";import{d as ge}from"./download-CFfJ8-ZW.js";import"./form.vue_vue_type_script_setup_true_lang-DE34ifGy.js";import"./sortable.esm-VSgMS8pS.js";import"./epTheme-CbgIfPLV.js";import"./collapse-DgdonavO.js";const Ce={width:1024,height:1024,body:'<path fill="currentColor" d="M160 832h704a32 32 0 1 1 0 64H160a32 32 0 1 1 0-64zm384-578.304V704h-64V247.296L237.248 490.048L192 444.8L508.8 128l316.8 316.8l-45.312 45.248L544 253.696z"/>'},he={BASE_URL:"/vitality/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_BASE_API:"",VITE_CDN:"false",VITE_COMPRESSION:"none",VITE_HIDE_HOME:"false",VITE_PORT:"8848",VITE_PUBLIC_PATH:"/vitality/",VITE_ROUTER_HISTORY:"hash"},ye=L({__name:"index",props:{multiple:{type:Boolean,default:!1},showFileList:{type:Boolean,default:!1},accept:{default:""},size:{default:"default"},flex:{type:Boolean,default:!1}},emits:["on-success"],setup(s,{emit:n}){const{VITE_BASE_API:a}=he,r=a+"/system/oss/upload",w=k({Authorization:te(le())}),m=s,h=n,y=ne(()=>m.flex?"flex":"");function _(g){h("on-success",g)}return(g,p)=>{const v=c("el-button"),S=c("el-upload");return V(),ae(S,{action:r,headers:w.value,multiple:"","show-file-list":m.showFileList,"on-success":_,class:se(y.value)},{default:l(()=>[t(v,{type:"primary",size:m.size,icon:e(f)(e(Ce))},{default:l(()=>p[0]||(p[0]=[d(" 上传文件 ")])),_:1},8,["size","icon"])]),_:1},8,["headers","show-file-list","class"])}}}),ve=ie(ye),be={class:"main"},xe={key:0,class:"bg-[var(--el-fill-color-light)] w-full h-[46px] mb-2 pl-4 flex items-center"},ke={class:"flex-auto"},Ve={style:{"font-size":"var(--el-font-size-base)"},class:"text-[rgba(42,46,54,0.5)] dark:text-[rgba(220,220,242,0.5)]"},we=L({name:"SystemOss",__name:"index",setup(s){const n=k(),a=k(),{form:r,curRow:w,loading:m,columns:h,dataList:y,selectedNum:_,pagination:g,onSearch:p,resetForm:v,openDialog:S,handleDelete:$,onBatchDel:A,onSelectionCancel:M,handleSizeChange:N,handleCurrentChange:U,handleSelectionChange:H,handleDownload:F}=oe(a);function q(Q){p()}return re(()=>{}),(Q,o)=>{const b=c("el-input"),C=c("el-form-item"),u=c("el-button"),Y=c("el-form"),E=c("el-popconfirm"),j=c("pure-table"),G=ce("motion-fade");return V(),z("div",be,[t(Y,{ref_key:"formRef",ref:n,inline:!0,model:e(r),class:"search-form bg-bg_color w-[99/100] pl-8 pt-[12px] overflow-auto"},{default:l(()=>[t(C,{label:"编号：",prop:"id"},{default:l(()=>[t(b,{modelValue:e(r).id,"onUpdate:modelValue":o[0]||(o[0]=i=>e(r).id=i),placeholder:"请输入编号",clearable:"",class:"!w-[180px]"},null,8,["modelValue"])]),_:1}),t(C,{label:"MD5：",prop:"md5"},{default:l(()=>[t(b,{modelValue:e(r).md5,"onUpdate:modelValue":o[1]||(o[1]=i=>e(r).md5=i),placeholder:"请输入MD5码",clearable:"",class:"!w-[180px]"},null,8,["modelValue"])]),_:1}),t(C,{label:"名称：",prop:"name"},{default:l(()=>[t(b,{modelValue:e(r).name,"onUpdate:modelValue":o[2]||(o[2]=i=>e(r).name=i),placeholder:"请输入名称",clearable:"",class:"!w-[180px]"},null,8,["modelValue"])]),_:1}),t(C,null,{default:l(()=>[t(u,{type:"primary",icon:e(f)("ri:search-line"),loading:e(m),onClick:e(p)},{default:l(()=>o[4]||(o[4]=[d(" 搜索 ")])),_:1},8,["icon","loading","onClick"]),t(u,{icon:e(f)(e(_e)),onClick:o[3]||(o[3]=i=>e(v)(n.value))},{default:l(()=>o[5]||(o[5]=[d(" 重置 ")])),_:1},8,["icon"])]),_:1})]),_:1},8,["model"]),t(e(ue),{title:"文件管理",columns:e(h),onRefresh:e(p)},{buttons:l(()=>[t(e(ve),{multiple:!0,flex:!0,"show-file-list":!1,onOnSuccess:q})]),default:l(({size:i,dynamicColumns:J})=>[e(_)>0?de((V(),z("div",xe,[O("div",ke,[O("span",Ve," 已选 "+me(e(_))+" 项 ",1),t(u,{type:"primary",text:"",onClick:e(M)},{default:l(()=>o[6]||(o[6]=[d(" 取消选择 ")])),_:1},8,["onClick"])]),t(E,{width:500,title:"是否确认删除?",onConfirm:e(A)},{reference:l(()=>[t(u,{type:"danger",text:"",class:"mr-1"},{default:l(()=>o[7]||(o[7]=[d(" 批量删除 ")])),_:1})]),_:1},8,["onConfirm"])])),[[G]]):P("",!0),t(j,{ref_key:"tableRef",ref:a,"row-key":"id","align-whole":"center",showOverflowTooltip:"","table-layout":"auto",loading:e(m),size:i,adaptive:"",adaptiveConfig:{offsetBottom:108},data:e(y),columns:J,pagination:D(B({},e(g)),{size:i}),"header-cell-style":{background:"var(--el-fill-color-light)",color:"var(--el-text-color-primary)"},onSelectionChange:e(H),onPageSizeChange:e(N),onPageCurrentChange:e(U)},{operation:l(({row:x})=>[t(u,{class:"reset-margin",link:"",type:"primary",size:i,icon:e(f)(e(ge)),onClick:R=>e(F)(x)},{default:l(()=>o[8]||(o[8]=[d(" 下载 ")])),_:2},1032,["size","icon","onClick"]),P("",!0),t(E,{width:500,title:`是否确认【删除】名称为【${x.name}】的数据？`,onConfirm:R=>e($)(x)},{reference:l(()=>[t(u,{class:"reset-margin",link:"",type:"primary",size:i,icon:e(f)(e(fe))},{default:l(()=>o[10]||(o[10]=[d(" 删除 ")])),_:2},1032,["size","icon"])]),_:2},1032,["title","onConfirm"])]),_:2},1032,["loading","size","data","columns","pagination","onSelectionChange","onPageSizeChange","onPageCurrentChange"])]),_:1},8,["columns","onRefresh"])])}}}),Ae=pe(we,[["__scopeId","data-v-92c8de98"]]);export{Ae as default};
