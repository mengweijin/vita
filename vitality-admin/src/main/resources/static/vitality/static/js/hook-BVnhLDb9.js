var p=(o,s,a)=>new Promise((i,l)=>{var u=t=>{try{r(a.next(t))}catch(n){l(n)}},c=t=>{try{r(a.throw(t))}catch(n){l(n)}},r=t=>t.done?i(t.value):Promise.resolve(t.value).then(u,c);r((a=a.apply(o,s)).next())});import{bc as h,e as d,r as m,o as f,ba as b,az as v,a1 as W}from"./index-CKX0gG-m.js";const S=o=>h.request("post","/online-logs",{data:o});function C(){const o=d({username:""}),s=m([]),a=m(!0),i=d({total:0,pageSize:10,currentPage:1,background:!0}),l=[{label:"序号",prop:"id",minWidth:60},{label:"用户名",prop:"username",minWidth:100},{label:"登录 IP",prop:"ip",minWidth:140},{label:"登录地点",prop:"address",minWidth:140},{label:"操作系统",prop:"system",minWidth:100},{label:"浏览器类型",prop:"browser",minWidth:100},{label:"登录时间",prop:"loginTime",minWidth:180,formatter:({loginTime:e})=>b(e).format("YYYY-MM-DD HH:mm:ss")},{label:"操作",fixed:"right",slot:"operation"}];function u(e){}function c(e){}function r(e){}function t(e){v(`${e.username}已被强制下线`,{type:"success"}),n()}function n(){return p(this,null,function*(){a.value=!0;const{data:e}=yield S(W(o));s.value=e.list,i.total=e.total,i.pageSize=e.pageSize,i.currentPage=e.currentPage,setTimeout(()=>{a.value=!1},500)})}const g=e=>{e&&(e.resetFields(),n())};return f(()=>{n()}),{form:o,loading:a,columns:l,dataList:s,pagination:i,onSearch:n,resetForm:g,handleOffline:t,handleSizeChange:u,handleCurrentChange:c,handleSelectionChange:r}}export{C as useRole};
