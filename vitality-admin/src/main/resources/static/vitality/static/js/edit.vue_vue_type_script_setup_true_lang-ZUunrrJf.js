import{T as C,E as b}from"./index.esm-DVr8J6Gg.js";import{r as R,d as w,a as c,M as O,m as N,go as y,gp as B,z as x,e as r,f as S,b as U,w as s,i as a,j as k,g as A,u as d}from"./index-BOgzzpjy.js";const M=R({name:[{required:!0,message:"名称为必填项",trigger:"blur"}]}),P={BASE_URL:"/vitality/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_BASE_API:"",VITE_CDN:"false",VITE_COMPRESSION:"none",VITE_HIDE_HOME:"false",VITE_PORT:"8848",VITE_PUBLIC_PATH:"/vitality/",VITE_ROUTER_HISTORY:"hash"},D={class:"wangeditor"},f="default",z=w({__name:"edit",props:{data:{default:()=>({})}},setup(p,{expose:v}){const{VITE_BASE_API:i}=P,V=i+"/system/oss/upload/wang-editor",E=p,u=c(),t=c(E.data),n=O();function T(){return u.value}v({getRef:T}),N(()=>{});const m={placeholder:"请输入内容...",MENU_CONF:{}};m.MENU_CONF.uploadImage={server:V,headers:{Authorization:y(B())},withCredentials:!1,allowedFileTypes:["image/*"],maxNumberOfFiles:1,base64LimitSize:5*1024,customInsert(e,o){e.data.url&&setTimeout(()=>{o(i+e.data.url)},2e3)}};const I=e=>{n.value=e};return x(()=>{const e=n.value;e!=null&&e.destroy()}),(e,o)=>{const g=r("el-input"),_=r("el-form-item"),h=r("el-form");return S(),U(h,{ref_key:"formRef",ref:u,model:t.value,rules:d(M),"label-width":"82px"},{default:s(()=>[k("",!0),a(_,{label:"标题",prop:"name"},{default:s(()=>[a(g,{modelValue:t.value.name,"onUpdate:modelValue":o[1]||(o[1]=l=>t.value.name=l),clearable:"",placeholder:"请输入标题"},null,8,["modelValue"])]),_:1}),a(_,{label:"内容"},{default:s(()=>[A("div",D,[a(d(C),{editor:n.value,mode:f,style:{"border-bottom":"1px solid #ccc"}},null,8,["editor"]),a(d(b),{modelValue:t.value.description,"onUpdate:modelValue":o[2]||(o[2]=l=>t.value.description=l),defaultConfig:m,mode:f,style:{height:"300px","overflow-y":"hidden"},onOnCreated:I},null,8,["modelValue"])])]),_:1})]),_:1},8,["model","rules"])}}});export{z as _};
