import{R as i}from"./index-0xZT4ftg.js";import{r as k,ge as C,gm as I,d as U,a as c,e as u,f as v,b as B,w as l,i as e,u as s,g as N,t as V,k as q,j as D}from"./index-BOgzzpjy.js";const E=k({name:[{required:!0,message:"部门名称为必填项",trigger:"blur"}],phone:[{validator:(d,r,n)=>{r===""||C(r)?n():n(new Error("请输入正确的手机号码格式"))},trigger:"blur"}],email:[{validator:(d,r,n)=>{r===""||I(r)?n():n(new Error("请输入正确的邮箱格式"))},trigger:"blur"}]}),F={key:0},j=U({__name:"form",props:{formInline:{default:()=>({})},higherDeptOptions:{default:()=>[]}},setup(d,{expose:r}){const n=d,p=c(),t=c(n.formInline);function g(){return p.value}return r({getRef:g}),(b,a)=>{const w=u("el-cascader"),m=u("el-form-item"),f=u("el-input"),h=u("el-input-number"),x=u("el-switch"),y=u("el-row"),R=u("el-form");return v(),B(R,{ref_key:"ruleFormRef",ref:p,model:t.value,rules:s(E),"label-width":"82px"},{default:l(()=>[e(y,{gutter:30},{default:l(()=>[e(s(i),null,{default:l(()=>[e(m,{label:"上级部门"},{default:l(()=>[e(w,{modelValue:t.value.parentId,"onUpdate:modelValue":a[0]||(a[0]=o=>t.value.parentId=o),class:"w-full",options:b.higherDeptOptions,props:{value:"id",label:"name",emitPath:!1,checkStrictly:!0},clearable:"",filterable:"",placeholder:"请选择上级部门"},{default:l(({node:o,data:_})=>[N("span",null,V(_.name),1),o.isLeaf?D("",!0):(v(),q("span",F," ("+V(_.children.length)+") ",1))]),_:1},8,["modelValue","options"])]),_:1})]),_:1}),e(s(i),{value:12,xs:24,sm:24},{default:l(()=>[e(m,{label:"部门名称",prop:"name"},{default:l(()=>[e(f,{modelValue:t.value.name,"onUpdate:modelValue":a[1]||(a[1]=o=>t.value.name=o),clearable:"",placeholder:"请输入部门名称"},null,8,["modelValue"])]),_:1})]),_:1}),e(s(i),{value:12,xs:24,sm:24},{default:l(()=>[e(m,{label:"排序"},{default:l(()=>[e(h,{modelValue:t.value.seq,"onUpdate:modelValue":a[2]||(a[2]=o=>t.value.seq=o),class:"!w-full",min:0,max:9999,"controls-position":"right"},null,8,["modelValue"])]),_:1})]),_:1}),e(s(i),{value:12,xs:24,sm:24},{default:l(()=>[e(m,{label:"部门状态"},{default:l(()=>[e(x,{modelValue:t.value.disabled,"onUpdate:modelValue":a[3]||(a[3]=o=>t.value.disabled=o),"inline-prompt":"","active-value":"N","inactive-value":"Y","active-text":"启用","inactive-text":"停用",style:"--el-switch-on-color: #6abe39; --el-switch-off-color: #e84749"},null,8,["modelValue"])]),_:1})]),_:1}),e(s(i),null,{default:l(()=>[e(m,{label:"备注"},{default:l(()=>[e(f,{modelValue:t.value.remark,"onUpdate:modelValue":a[4]||(a[4]=o=>t.value.remark=o),placeholder:"请输入备注信息",type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])}}});export{j as _};
