var nl=Object.defineProperty,sl=Object.defineProperties;var rl=Object.getOwnPropertyDescriptors;var pt=Object.getOwnPropertySymbols;var ul=Object.prototype.hasOwnProperty,il=Object.prototype.propertyIsEnumerable;var ct=(e,t,a)=>t in e?nl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,V=(e,t)=>{for(var a in t||(t={}))ul.call(t,a)&&ct(e,a,t[a]);if(pt)for(var a of pt(t))il.call(t,a)&&ct(e,a,t[a]);return e},te=(e,t)=>sl(e,rl(t));var _e=(e,t,a)=>new Promise((o,s)=>{var r=n=>{try{u(a.next(n))}catch(v){s(v)}},i=n=>{try{u(a.throw(n))}catch(v){s(v)}},u=n=>n.done?o(n.value):Promise.resolve(n.value).then(r,i);u((a=a.apply(e,t)).next())});import{dz as ue,a as S,m as Ye,N as dl,u as l,dA as pl,dB as Et,dC as wt,dD as cl,dE as fl,aH as Ce,dF as vl,dG as Y,dH as ml,d as U,p as L,dI as hl,dJ as bl,dK as yl,dL as Le,dM as kt,n as J,z as Ct,b6 as Pt,Q as _,dN as ce,ba as me,f as p,k as O,s as Pe,v as de,a3 as k,dO as gl,dP as El,i as x,w,F as G,h as se,t as le,j as H,dQ as wl,dR as kl,dS as he,b as P,b3 as Cl,r as ve,dg as we,dT as Pl,dU as Vl,as as z,bn as ae,dV as Vt,dW as $l,d3 as Sl,dX as $t,dY as pe,dZ as St,d_ as ze,d$ as Il,B as Ze,a0 as Tl,l as q,q as Ve,g as $e,e0 as It,y as Fe,e1 as _l,e2 as Qe,e3 as Dl,ar as ie,e4 as ge,e5 as Xe,e6 as Fl,e7 as Rl,e8 as Tt,e9 as Ol,aq as Bl,ea as Ll,eb as Al,ec as Ml,ed as Nl,dl as Ke,ee as Hl,ef as jl,eg as _t,eh as Ul,ei as Wl,ej as Dt,ek as zl,el as Kl,em as Ft,en as Gl,eo as Rt,a$ as Ot,ep as ql,eq as Yl,er as Zl,es as Bt,et as Ql,eu as Xl,ev as Jl,ew as xl,ex as eo,ey as to,ez as Oe,eA as lo,eB as oo,dm as ao,eC as Lt,dp as no,eD as so,eE as ro,eF as uo,eG as io,eH as At,ds as Mt,dw as Je,eI as po,eJ as co,eK as Nt,dv as fo,eL as vo,eM as mo,eN as ho,eO as bo,eP as yo,eQ as go,eR as Eo,eS as wo,eT as ko,eU as Co,eV as Be,eW as Po,eX as xe,eY as Ht,eZ as Vo,e_ as jt,e$ as et,f0 as tt,f1 as $o,f2 as So,f3 as Io,f4 as To,f5 as Ut,f6 as _o,f7 as Do,f8 as Fo,dr as Ro,dq as Oo,f9 as Wt,fa as Bo,fb as Lo,fc as Ao,fd as Mo,fe as No,ff as zt,fg as Kt,fh as Gt,fi as qt,fj as Ho,fk as jo,fl as Yt,fm as Uo,fn as Zt,fo as Wo,aU as zo,fp as Ko,fq as Go,fr as qo,fs as Yo,ft as Zo,fu as Qo,a5 as Xo,bb as Jo,dn as Ge,fv as xo,fw as ea,fx as ta,bO as Qt,dh as la,fy as oa,d5 as aa,fz as na,fA as sa,U as Z,aF as ra,fB as lt,fC as Xt,a4 as ft,fD as ua,bm as ia,K as da,aY as pa}from"./index-BOgzzpjy.js";import{a as ot,b as Se,i as X,c as qe,t as Jt,d as Ie,_ as fe,e as He,f as ca}from"./_plugin-vue_export-helper-C_DISmKY.js";const vt=Symbol("INSTALLED_KEY");ue({});const fa=e=>{if(!Et)return;if(!e)return e;const t=wt(e);return t||(Ce(e)?t:e)},va=({middleware:e,placement:t,strategy:a})=>{const o=S(),s=S(),r=S(),i=S(),u=S({}),n={x:r,y:i,placement:t,strategy:a,middlewareData:u},v=()=>_e(void 0,null,function*(){if(!Et)return;const y=fa(o),m=wt(s);if(!y||!m)return;const I=yield cl(y,m,{placement:l(t),strategy:l(a),middleware:l(e)});fl(n).forEach(c=>{n[c].value=I[c]})});return Ye(()=>{dl(()=>{v()})}),te(V({},n),{update:v,referenceRef:o,contentRef:s})},ma=({arrowRef:e,padding:t})=>({name:"arrow",options:{element:e,padding:t},fn(a){const o=l(e);return o?pl({element:o,padding:t}).fn(a):{}}}),ha="2.8.5",ba=(e=[])=>({version:ha,install:(a,o)=>{a[vt]||(a[vt]=!0,e.forEach(s=>a.use(s)),o&&vl(o,a,!0))}}),xt=ue({nowrap:Boolean});var el=(e=>(e.top="top",e.bottom="bottom",e.left="left",e.right="right",e))(el||{});const ya=Object.values(el),at=ue({width:{type:Number,default:10},height:{type:Number,default:10},style:{type:Y(Object),default:null}}),ga=ue({side:{type:Y(String),values:ya,required:!0}}),Ea=["absolute","fixed"],wa=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],nt=ue(V({arrowPadding:{type:Y(Number),default:5},effect:{type:Y(String),default:"light"},contentClass:String,placement:{type:Y(String),values:wa,default:"bottom"},reference:{type:Y(Object),default:null},offset:{type:Number,default:8},strategy:{type:Y(String),values:Ea,default:"absolute"},showArrow:Boolean},ml(["ariaLabel"]))),st=ue({delayDuration:{type:Number,default:300},defaultOpen:Boolean,open:{type:Boolean,default:void 0},onOpenChange:{type:Y(Function)},"onUpdate:open":{type:Y(Function)}}),be={type:Y(Function)},rt=ue({onBlur:be,onClick:be,onFocus:be,onMouseDown:be,onMouseEnter:be,onMouseLeave:be}),ka=ue(te(V(V(V(V({},st),at),rt),nt),{alwaysOn:Boolean,fullTransition:Boolean,transitionProps:{type:Y(Object),default:null},teleported:Boolean,to:{type:Y(String),default:"body"}})),Ae=Symbol("tooltipV2"),tl=Symbol("tooltipV2Content"),je="tooltip_v2.open",Ca=U({name:"ElTooltipV2Root"}),Pa=U(te(V({},Ca),{props:st,setup(e,{expose:t}){const a=e,o=S(a.defaultOpen),s=S(null),r=L({get:()=>hl(a.open)?o.value:a.open,set:C=>{var E;o.value=C,(E=a["onUpdate:open"])==null||E.call(a,C)}}),i=L(()=>bl(a.delayDuration)&&a.delayDuration>0),{start:u,stop:n}=yl(()=>{r.value=!0},L(()=>a.delayDuration),{immediate:!1}),v=Le("tooltip-v2"),y=kt(),m=()=>{n(),r.value=!0},I=()=>{l(i)?u():m()},c=m,T=()=>{n(),r.value=!1};return J(r,C=>{var E;C&&(document.dispatchEvent(new CustomEvent(je)),c()),(E=a.onOpenChange)==null||E.call(a,C)}),Ye(()=>{document.addEventListener(je,T)}),Ct(()=>{n(),document.removeEventListener(je,T)}),Pt(Ae,{contentId:y,triggerRef:s,ns:v,onClose:T,onDelayOpen:I,onOpen:c}),t({onOpen:c,onClose:T}),(C,E)=>_(C.$slots,"default",{open:l(r)})}}));var Va=ce(Pa,[["__file","root.vue"]]);const $a=U({name:"ElTooltipV2Arrow"}),Sa=U(te(V({},$a),{props:V(V({},at),ga),setup(e){const t=e,{ns:a}=me(Ae),{arrowRef:o}=me(tl),s=L(()=>{const{style:r,width:i,height:u}=t,n=a.namespace.value;return V({[`--${n}-tooltip-v2-arrow-width`]:`${i}px`,[`--${n}-tooltip-v2-arrow-height`]:`${u}px`,[`--${n}-tooltip-v2-arrow-border-width`]:`${i/2}px`,[`--${n}-tooltip-v2-arrow-cover-width`]:i/2-1},r||{})});return(r,i)=>(p(),O("span",{ref_key:"arrowRef",ref:o,style:Pe(l(s)),class:de(l(a).e("arrow"))},null,6))}}));var mt=ce(Sa,[["__file","arrow.vue"]]);const Ia=ue({style:{type:Y([String,Object,Array]),default:()=>({})}}),Ta=U({name:"ElVisuallyHidden"}),_a=U(te(V({},Ta),{props:Ia,setup(e){const t=e,a=L(()=>[t.style,{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}]);return(o,s)=>(p(),O("span",k(o.$attrs,{style:l(a)}),[_(o.$slots,"default")],16))}}));var Da=ce(_a,[["__file","visual-hidden.vue"]]);const Fa=U({name:"ElTooltipV2Content"}),Ra=U(te(V({},Fa),{props:V(V({},nt),xt),setup(e){const t=e,{triggerRef:a,contentId:o}=me(Ae),s=S(t.placement),r=S(t.strategy),i=S(null),{referenceRef:u,contentRef:n,middlewareData:v,x:y,y:m,update:I}=va({placement:s,strategy:r,middleware:L(()=>{const f=[gl(t.offset)];return t.showArrow&&f.push(ma({arrowRef:i})),f})}),c=El().nextZIndex(),T=Le("tooltip-v2"),B=L(()=>s.value.split("-")[0]),C=L(()=>({position:l(r),top:`${l(m)||0}px`,left:`${l(y)||0}px`,zIndex:c})),E=L(()=>{if(!t.showArrow)return{};const{arrow:f}=l(v);return{[`--${T.namespace.value}-tooltip-v2-arrow-x`]:`${f==null?void 0:f.x}px`||"",[`--${T.namespace.value}-tooltip-v2-arrow-y`]:`${f==null?void 0:f.y}px`||""}}),g=L(()=>[T.e("content"),T.is("dark",t.effect==="dark"),T.is(l(r)),t.contentClass]);return J(i,()=>I()),J(()=>t.placement,f=>s.value=f),Ye(()=>{J(()=>t.reference||a.value,f=>{u.value=f||void 0},{immediate:!0})}),Pt(tl,{arrowRef:i}),(f,A)=>(p(),O("div",{ref_key:"contentRef",ref:n,style:Pe(l(C)),"data-tooltip-v2-root":""},[f.nowrap?H("v-if",!0):(p(),O("div",{key:0,"data-side":l(B),class:de(l(g))},[_(f.$slots,"default",{contentStyle:l(C),contentClass:l(g)}),x(l(Da),{id:l(o),role:"tooltip"},{default:w(()=>[f.ariaLabel?(p(),O(G,{key:0},[se(le(f.ariaLabel),1)],64)):_(f.$slots,"default",{key:1})]),_:3},8,["id"]),_(f.$slots,"arrow",{style:Pe(l(E)),side:l(B)})],10,["data-side"]))],4))}}));var ht=ce(Ra,[["__file","content.vue"]]);const Oa=ue({setRef:{type:Y(Function),required:!0},onlyChild:Boolean});var Ba=U({props:Oa,setup(e,{slots:t}){const a=S(),o=kl(a,s=>{s?e.setRef(s.nextElementSibling):e.setRef(null)});return()=>{var s;const[r]=((s=t.default)==null?void 0:s.call(t))||[],i=e.onlyChild?wl(r.children):r.children;return x(G,{ref:o},[i])}}});const La=U({name:"ElTooltipV2Trigger"}),Aa=U(te(V({},La),{props:V(V({},xt),rt),setup(e){const t=e,{onClose:a,onOpen:o,onDelayOpen:s,triggerRef:r,contentId:i}=me(Ae);let u=!1;const n=g=>{r.value=g},v=()=>{u=!1},y=he(t.onMouseEnter,s),m=he(t.onMouseLeave,a),I=he(t.onMouseDown,()=>{a(),u=!0,document.addEventListener("mouseup",v,{once:!0})}),c=he(t.onFocus,()=>{u||o()}),T=he(t.onBlur,a),B=he(t.onClick,g=>{g.detail===0&&a()}),C={blur:T,click:B,focus:c,mousedown:I,mouseenter:y,mouseleave:m},E=(g,f,A)=>{g&&Object.entries(f).forEach(([R,Q])=>{g[A](R,Q)})};return J(r,(g,f)=>{E(g,C,"addEventListener"),E(f,C,"removeEventListener"),g&&g.setAttribute("aria-describedby",i.value)}),Ct(()=>{E(r.value,C,"removeEventListener"),document.removeEventListener("mouseup",v)}),(g,f)=>g.nowrap?(p(),P(l(Ba),{key:0,"set-ref":n,"only-child":""},{default:w(()=>[_(g.$slots,"default")]),_:3})):(p(),O("button",k({key:1,ref_key:"triggerRef",ref:r},g.$attrs),[_(g.$slots,"default")],16))}}));var Ma=ce(Aa,[["__file","trigger.vue"]]);const Na=U({name:"ElTooltipV2"}),Ha=U(te(V({},Na),{props:ka,setup(e){const a=Cl(e),o=ve(we(a,Object.keys(at))),s=ve(we(a,Object.keys(nt))),r=ve(we(a,Object.keys(st))),i=ve(we(a,Object.keys(rt)));return(u,n)=>(p(),P(Va,z(ae(r)),{default:w(({open:v})=>[x(Ma,k(i,{nowrap:""}),{default:w(()=>[_(u.$slots,"trigger")]),_:3},16),x(l(Pl),{to:u.to,disabled:!u.teleported},{default:w(()=>[u.fullTransition?(p(),P(Vl,z(k({key:0},u.transitionProps)),{default:w(()=>[u.alwaysOn||v?(p(),P(ht,z(k({key:0},s)),{arrow:w(({style:y,side:m})=>[u.showArrow?(p(),P(mt,k({key:0},o,{style:y,side:m}),null,16,["style","side"])):H("v-if",!0)]),default:w(()=>[_(u.$slots,"default")]),_:3},16)):H("v-if",!0)]),_:2},1040)):(p(),O(G,{key:1},[u.alwaysOn||v?(p(),P(ht,z(k({key:0},s)),{arrow:w(({style:y,side:m})=>[u.showArrow?(p(),P(mt,k({key:0},o,{style:y,side:m}),null,16,["style","side"])):H("v-if",!0)]),default:w(()=>[_(u.$slots,"default")]),_:3},16)):H("v-if",!0)],64))]),_:2},1032,["to","disabled"])]),_:3},16))}}));var ja=ce(Ha,[["__file","tooltip.vue"]]);const Ua=Vt(ja),Wa=(e,t)=>{const a=e.toLowerCase();return(t.label||t.value).toLowerCase().includes(a)},za=(e,t,a)=>{const{selectionEnd:o}=e;if(o===null)return;const s=e.value,r=Sl(t);let i=-1,u;for(let n=o-1;n>=0;--n){const v=s[n];if(v===a||v===`
`||v==="\r"){i=n;continue}if(r.includes(v)){const y=i===-1?o:i;u={pattern:s.slice(n+1,y),start:n+1,end:y,prefix:v,prefixIndex:n,splitIndex:i,selectionEnd:o};break}}return u},Ka=(e,t={debug:!1,useSelectionEnd:!1})=>{const a=e.selectionStart!==null?e.selectionStart:0,o=e.selectionEnd!==null?e.selectionEnd:0,s=t.useSelectionEnd?o:a,r=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"];if(t.debug){const I=document.querySelector("#input-textarea-caret-position-mirror-div");I!=null&&I.parentNode&&I.parentNode.removeChild(I)}const i=document.createElement("div");i.id="input-textarea-caret-position-mirror-div",document.body.appendChild(i);const u=i.style,n=window.getComputedStyle(e),v=e.nodeName==="INPUT";u.whiteSpace=v?"nowrap":"pre-wrap",v||(u.wordWrap="break-word"),u.position="absolute",t.debug||(u.visibility="hidden"),r.forEach(I=>{if(v&&I==="lineHeight")if(n.boxSizing==="border-box"){const c=Number.parseInt(n.height),T=Number.parseInt(n.paddingTop)+Number.parseInt(n.paddingBottom)+Number.parseInt(n.borderTopWidth)+Number.parseInt(n.borderBottomWidth),B=T+Number.parseInt(n.lineHeight);c>B?u.lineHeight=`${c-T}px`:c===B?u.lineHeight=n.lineHeight:u.lineHeight="0"}else u.lineHeight=n.height;else u[I]=n[I]}),$l()?e.scrollHeight>Number.parseInt(n.height)&&(u.overflowY="scroll"):u.overflow="hidden",i.textContent=e.value.slice(0,Math.max(0,s)),v&&i.textContent&&(i.textContent=i.textContent.replace(/\s/g," "));const y=document.createElement("span");y.textContent=e.value.slice(Math.max(0,s))||".",y.style.position="relative",y.style.left=`${-e.scrollLeft}px`,y.style.top=`${-e.scrollTop}px`,i.appendChild(y);const m={top:y.offsetTop+Number.parseInt(n.borderTopWidth),left:y.offsetLeft+Number.parseInt(n.borderLeftWidth),height:Number.parseInt(n.fontSize)*1.5};return t.debug?y.style.backgroundColor="#aaa":document.body.removeChild(i),m.left>=e.clientWidth&&(m.left=e.clientWidth),m},Ga=ue(te(V({},$t),{options:{type:Y(Array),default:()=>[]},prefix:{type:Y([String,Array]),default:"@",validator:e=>pe(e)?e.length===1:e.every(t=>pe(t)&&t.length===1)},split:{type:String,default:" ",validator:e=>e.length===1},filterOption:{type:Y([Boolean,Function]),default:()=>Wa,validator:e=>e===!1?!0:St(e)},placement:{type:Y(String),default:"bottom"},showArrow:Boolean,offset:{type:Number,default:0},whole:Boolean,checkIsWhole:{type:Y(Function)},modelValue:String,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Y(Object),default:()=>({})}})),qa={[ze]:e=>pe(e),search:(e,t)=>pe(e)&&pe(t),select:(e,t)=>pe(e.value)&&pe(t),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent},Ya=ue({options:{type:Y(Array),default:()=>[]},loading:Boolean,disabled:Boolean,contentId:String,ariaLabel:String}),Za={select:e=>pe(e.value)},Qa=U({name:"ElMentionDropdown"}),Xa=U(te(V({},Qa),{props:Ya,emits:Za,setup(e,{expose:t,emit:a}){const o=e,s=Le("mention"),{t:r}=Il(),i=S(-1),u=S(),n=S(),v=S(),y=(f,A)=>[s.be("dropdown","item"),s.is("hovering",i.value===A),s.is("disabled",f.disabled||o.disabled)],m=f=>{f.disabled||o.disabled||a("select",f)},I=f=>{i.value=f},c=L(()=>o.disabled||o.options.every(f=>f.disabled)),T=L(()=>o.options[i.value]),B=()=>{T.value&&a("select",T.value)},C=f=>{const{options:A}=o;if(A.length===0||c.value)return;f==="next"?(i.value++,i.value===A.length&&(i.value=0)):f==="prev"&&(i.value--,i.value<0&&(i.value=A.length-1));const R=A[i.value];if(R.disabled){C(f);return}Fe(()=>E(R))},E=f=>{var A,R,Q,ne;const{options:h}=o,K=h.findIndex(j=>j.value===f.value),W=(A=n.value)==null?void 0:A[K];if(W){const j=(Q=(R=v.value)==null?void 0:R.querySelector)==null?void 0:Q.call(R,`.${s.be("dropdown","wrap")}`);j&&_l(j,W)}(ne=u.value)==null||ne.handleScroll()};return J(()=>o.options,()=>{c.value||o.options.length===0?i.value=-1:i.value=0},{immediate:!0}),t({hoveringIndex:i,navigateOptions:C,selectHoverOption:B,hoverOption:T}),(f,A)=>(p(),O("div",{ref_key:"dropdownRef",ref:v,class:de(l(s).b("dropdown"))},[f.$slots.header?(p(),O("div",{key:0,class:de(l(s).be("dropdown","header"))},[_(f.$slots,"header")],2)):H("v-if",!0),Ze(x(l(It),{id:f.contentId,ref_key:"scrollbarRef",ref:u,tag:"ul","wrap-class":l(s).be("dropdown","wrap"),"view-class":l(s).be("dropdown","list"),role:"listbox","aria-label":f.ariaLabel,"aria-orientation":"vertical"},{default:w(()=>[(p(!0),O(G,null,q(f.options,(R,Q)=>(p(),O("li",{id:`${f.contentId}-${Q}`,ref_for:!0,ref_key:"optionRefs",ref:n,key:R.value,class:de(y(R,Q)),role:"option","aria-disabled":R.disabled||f.disabled||void 0,"aria-selected":i.value===Q,onMouseenter:ne=>I(Q),onClick:Ve(ne=>m(R),["stop"])},[_(f.$slots,"label",{item:R,index:Q},()=>{var ne;return[$e("span",null,le((ne=R.label)!=null?ne:R.value),1)]})],42,["id","aria-disabled","aria-selected","onMouseenter","onClick"]))),128))]),_:3},8,["id","wrap-class","view-class","aria-label"]),[[Tl,f.options.length>0&&!f.loading]]),f.loading?(p(),O("div",{key:1,class:de(l(s).be("dropdown","loading"))},[_(f.$slots,"loading",{},()=>[se(le(l(r)("el.mention.loading")),1)])],2)):H("v-if",!0),f.$slots.footer?(p(),O("div",{key:2,class:de(l(s).be("dropdown","footer"))},[_(f.$slots,"footer")],2)):H("v-if",!0)],2))}}));var Ja=ce(Xa,[["__file","mention-dropdown.vue"]]);const xa=U({name:"ElMention",inheritAttrs:!1}),en=U(te(V({},xa),{props:Ga,emits:qa,setup(e,{expose:t,emit:a}){const o=e,s=L(()=>we(o,Object.keys($t))),r=Le("mention"),i=Qe(),u=kt(),n=S(),v=S(),y=S(),m=S(!1),I=S(),c=S(),T=L(()=>o.showArrow?o.placement:`${o.placement}-start`),B=L(()=>o.showArrow?["bottom","top"]:["bottom-start","top-start"]),C=L(()=>{const{filterOption:b,options:D}=o;return!c.value||!b?D:D.filter(M=>b(c.value.pattern,M))}),E=L(()=>m.value&&(!!C.value.length||o.loading)),g=L(()=>{var b;return`${u.value}-${(b=y.value)==null?void 0:b.hoveringIndex}`}),f=b=>{a("update:modelValue",b),K()},A=b=>{var D,M,oe,d;if("key"in b&&!((D=n.value)!=null&&D.isComposing)){if(["ArrowLeft","ArrowRight"].includes(b.key))K();else if(["ArrowUp","ArrowDown"].includes(b.key)){if(!m.value)return;b.preventDefault();const F=b.key==="ArrowUp"?"prev":"next";(M=y.value)==null||M.navigateOptions(F)}else if(["Enter"].includes(b.key)){if(!m.value)return;b.preventDefault(),(oe=y.value)!=null&&oe.hoverOption?(d=y.value)==null||d.selectHoverOption():m.value=!1}else if(["Escape"].includes(b.key)){if(!m.value)return;b.preventDefault(),m.value=!1}else if(["Backspace"].includes(b.key)&&o.whole&&c.value){const{splitIndex:F,selectionEnd:N,pattern:$,prefixIndex:ee,prefix:re}=c.value,Te=h();if(!Te)return;const it=Te.value,al=o.options.find(Ne=>Ne.value===$);if((St(o.checkIsWhole)?o.checkIsWhole($,re):al)&&F!==-1&&F+1===N){b.preventDefault();const Ne=it.slice(0,ee)+it.slice(F+1);a(ze,Ne);const dt=ee;Fe(()=>{Te.selectionStart=dt,Te.selectionEnd=dt,j()})}}}},{wrapperRef:R}=Dl(n,{beforeFocus(){return i.value},afterFocus(){K()},beforeBlur(b){var D;return(D=v.value)==null?void 0:D.isFocusInsideContent(b)},afterBlur(){m.value=!1}}),Q=()=>{K()},ne=b=>{if(!c.value)return;const D=h();if(!D)return;const M=D.value,{split:oe}=o,d=M.slice(c.value.end),F=d.startsWith(oe),N=`${b.value}${F?"":oe}`,$=M.slice(0,c.value.start)+N+d;a(ze,$),a("select",b,c.value.prefix);const ee=c.value.start+N.length+(F?1:0);Fe(()=>{D.selectionStart=ee,D.selectionEnd=ee,D.focus(),j()})},h=()=>{var b,D;return o.type==="textarea"?(b=n.value)==null?void 0:b.textarea:(D=n.value)==null?void 0:D.input},K=()=>{setTimeout(()=>{W(),j(),Fe(()=>{var b;return(b=v.value)==null?void 0:b.updatePopper()})},0)},W=()=>{const b=h();if(!b)return;const D=Ka(b),M=b.getBoundingClientRect(),oe=n.value.$el.getBoundingClientRect();I.value={position:"absolute",width:0,height:`${D.height}px`,left:`${D.left+M.left-oe.left}px`,top:`${D.top+M.top-oe.top}px`}},j=()=>{const b=h();if(document.activeElement!==b){m.value=!1;return}const{prefix:D,split:M}=o;if(c.value=za(b,D,M),c.value&&c.value.splitIndex===-1){m.value=!0,a("search",c.value.pattern,c.value.prefix);return}m.value=!1};return t({input:n,tooltip:v,dropdownVisible:E}),(b,D)=>(p(),O("div",{ref_key:"wrapperRef",ref:R,class:de(l(r).b())},[x(l(ge),k(k(l(s),b.$attrs),{ref_key:"elInputRef",ref:n,"model-value":b.modelValue,disabled:l(i),role:l(E)?"combobox":void 0,"aria-activedescendant":l(E)?l(g)||"":void 0,"aria-controls":l(E)?l(u):void 0,"aria-expanded":l(E)||void 0,"aria-label":b.ariaLabel,"aria-autocomplete":l(E)?"none":void 0,"aria-haspopup":l(E)?"listbox":void 0,onInput:f,onKeydown:A,onMousedown:Q}),ie({_:2},[q(b.$slots,(M,oe)=>({name:oe,fn:w(d=>[_(b.$slots,oe,z(ae(d)))])}))]),1040,["model-value","disabled","role","aria-activedescendant","aria-controls","aria-expanded","aria-label","aria-autocomplete","aria-haspopup"]),x(l(Xe),{ref_key:"tooltipRef",ref:v,visible:l(E),"popper-class":[l(r).e("popper"),b.popperClass],"popper-options":b.popperOptions,placement:l(T),"fallback-placements":l(B),effect:"light",pure:"",offset:b.offset,"show-arrow":b.showArrow},{default:w(()=>[$e("div",{style:Pe(I.value)},null,4)]),content:w(()=>{var M;return[x(Ja,{ref_key:"dropdownRef",ref:y,options:l(C),disabled:l(i),loading:b.loading,"content-id":l(u),"aria-label":b.ariaLabel,onSelect:ne,onClick:Ve((M=n.value)==null?void 0:M.focus,["stop"])},ie({_:2},[q(b.$slots,(oe,d)=>({name:d,fn:w(F=>[_(b.$slots,d,z(ae(F)))])}))]),1032,["options","disabled","loading","content-id","aria-label","onClick"])]}),_:3},8,["visible","popper-class","popper-options","placement","fallback-placements","offset","show-arrow"])],2))}}));var tn=ce(en,[["__file","mention.vue"]]);const ln=Vt(tn);var on=[Fl,Rl,Tt,Ol,Bl,Ll,Al,Ml,Nl,Ke,Hl,jl,_t,Ul,Wl,Dt,zl,Kl,Ft,Gl,Rt,Ot,ql,Yl,Zl,Bt,Ql,Xl,Jl,xl,eo,to,Oe,lo,oo,ao,Lt,no,so,ro,uo,io,At,Mt,Je,po,co,ge,Nt,fo,vo,mo,ho,bo,yo,go,Eo,wo,ko,Co,Be,Po,xe,Ht,Vo,jt,It,et,tt,$o,So,Io,To,Ut,_o,Do,Fo,Ro,Oo,Wt,Bo,Lo,Ao,Mo,No,zt,Kt,Gt,qt,Ho,jo,Xe,Ua,Yt,Uo,Zt,Wo,zo,Ko,Go,qo,Yo,Zo,Qo,ln],an=[Xo,Jo,Ge,xo,ea,ta],nn=ba([...on,...an]);const sn=nn.version,rn=e=>{const t=l(e);return ot(t)?{content:t}:Se(t)?t:{content:""}},un=(e,t)=>{if(!Se(e))throw new Error(`${t} expected Object but got ${Jt(e)}`)},bt=(e,t,a,o,s)=>_e(void 0,null,function*(){try{let r={};const i={row:a,index:o};return e?Ce(e)?r=e.value:Se(e)?r=V({},e):X(e)?r=yield e(t,i):qe(e)?r=yield e:r=e:r={},un(r,s),r}catch(r){return Promise.reject(r)}}),ut=(e,t)=>t?`plus-${e}-${t}`:`plus-${e}`,ye=e=>`${ut("field",e)}`,ke=e=>`${ut("label",e)}`,Re=e=>`${ut("extra",e)}`,Ue=(e,t)=>{const a={};return Object.keys(e||{}).forEach(o=>{o.startsWith(t)&&(a[o]=e[o])}),a},dn=(e,t)=>Qt(e,t),pn=(e,t,a)=>la(e,t,a),cn=(e,t)=>{const a=e.split(".").map(r=>Number(r)),o=t.split(".").map(r=>Number(r)),s=Math.max(a.length,o.length);for(let r=0;r<s;r++){if((a[r]||0)>(o[r]||0))return 1;if((a[r]||0)<(o[r]||0))return-1}return 0},ll=cn(sn,"2.6.0")<0,fn=e=>e?l(e):"",We=e=>{Ie(e)||console.error("Uncaught TypeError: ",`options expected Array but got ${Jt(e)}`)},De=(e,t)=>{const a=t.optionsMap;return t.valueType==="cascader"||!Se(a)?e:e.map(r=>{const i=aa(r),u=a.label||"label",n=a.value||"value",v={[u]:i[u],[n]:i[n]};return a.label&&Reflect.deleteProperty(i,u),a.value&&Reflect.deleteProperty(i,n),te(V({},i),{__origin:v,label:r[u],value:r[n]})})},vn=e=>{const t=S([]),a=S(!1);if(!e.options)t.value=[],a.value=!0;else if(Ce(e.options)||oa(e.options)||Ie(e.options))J(()=>e.options,o=>{const s=Ce(o)?o.value:o;t.value=De(s,e),a.value=!0},{immediate:!0,deep:!0});else if(X(e.options)){const o=e.options,s=o(e);qe(s)?s.then(r=>{t.value=De(r,e),a.value=!0,We(t.value)}).catch(r=>{throw r}):(t.value=De(s,e),a.value=!0)}else qe(e.options)?e.options.then(s=>{t.value=De(s,e),a.value=!0,We(t.value)}).catch(s=>{throw s}):(a.value=!0,We(e.options));return{customOptions:t,customOptionsIsReady:a}},mn=e=>(t,a)=>hn(t,a,l(e)),hn=(e,t,a)=>Qt(a,e,e).replace(/\{(\w+)\}/g,(o,s)=>{var r;return`${(r=t==null?void 0:t[s])!=null?r:`{${s}}`}`}),bn=e=>{const t=L(()=>l(e).name),a=Ce(e)?e:S(e);return{lang:t,locale:a,t:mn(e)}},Me=e=>{const t=me(na,S());return bn(L(()=>{var a;return(a=t.value)!=null&&a.plus?t.value:sa}))},yn=Symbol("tableFormFieldRefInjectionKey"),gn=Symbol("tableFormRowInfoInjectionKey"),En=["datetimerange","daterange","monthrange"],wn=["rate","input-number","slider"],kn=["checkbox","cascader","plus-date-picker","plus-input-tag","transfer"];var Cn=U({name:"PlusRender",__name:"index",props:{renderType:{default:void 0},callbackValue:{default:""},customFieldProps:{default:()=>({})},render:{},params:{default:()=>({})},handleChange:{}},setup(e){const t=e,a=S();J(()=>t.callbackValue,s=>{a.value=s},{flush:"post",immediate:!0});const o=()=>{if(!t.render)return;const s=V({},t.params),r=t.renderType==="form"?t.render(a.value,t.handleChange,s):t.render(a.value,s);if(ra(r)){const i=t.renderType==="form"?V(V({modelValue:a.value},t.customFieldProps),r.props):V(V({},t.customFieldProps),r.props);return te(V({},r),{props:i})}else if(ot(r))return r};return(s,r)=>s.renderType==="form"?(p(),P(Z(o),k({key:0,modelValue:a.value,"onUpdate:modelValue":r[0]||(r[0]=i=>a.value=i)},s.customFieldProps),null,16,["modelValue"])):(p(),P(Z(o),z(k({key:1},s.customFieldProps)),null,16))}}),Pn=fe(Cn,[["__file","index.vue"]]);const yt=Pn;var Vn=U({name:"PlusRadio",__name:"index",props:{modelValue:{type:[String,Number,Boolean],default:""},options:{default:()=>[]},isCancel:{type:Boolean,default:!0},fieldSlots:{default:void 0},fieldChildrenSlot:{default:void 0}},emits:["change","update:modelValue"],setup(e,{expose:t,emit:a}){const o=e,s=a,r=S(),i=S(),u=ve({radio:""});J(()=>o.modelValue,m=>{u.radio=m},{immediate:!0});const n=lt(),v=(m,I,c)=>{if(!(Reflect.has(n,"disabled")||c!=null&&c.disabled)){if(o.isCancel)m.preventDefault();else return;u.radio=u.radio===I?"":I,s("update:modelValue",u.radio),s("change",u.radio)}},y=m=>{o.isCancel||(s("update:modelValue",m),s("change",m))};return t({radioInstance:r,radioGroupInstance:i}),(m,I)=>(p(),P(l(xe),k({ref_key:"radioGroupInstance",ref:i,modelValue:u.radio,"onUpdate:modelValue":I[0]||(I[0]=c=>u.radio=c),class:"plus-radio"},m.$attrs),ie({default:w(()=>[l(ll)?(p(!0),O(G,{key:0},q(m.options,c=>(p(),P(l(Be),k({key:`${c.label}${c.value}`,ref_for:!0,ref_key:"radioInstance",ref:r,label:c.value},c.fieldItemProps,{onClick:T=>v(T,c.value,c.fieldItemProps),onChange:T=>y(c.value)}),{default:w(()=>[l(X)(c.fieldSlot)?(p(),P(Z(c.fieldSlot),k({key:0,"model-value":u.radio,column:o},c),null,16,["model-value"])):l(X)(m.fieldChildrenSlot)?(p(),P(Z(m.fieldChildrenSlot),k({key:1,"model-value":u.radio,column:o},c),null,16,["model-value"])):(p(),O(G,{key:2},[se(le(c==null?void 0:c.label),1)],64))]),_:2},1040,["label","onClick","onChange"]))),128)):(p(),O(G,{key:1},[H(" element-plus 版本号大于等于2.6.0 "),(p(!0),O(G,null,q(m.options,c=>(p(),P(l(Be),k({key:`${c.label}${c.value}`,ref_for:!0,ref_key:"radioInstance",ref:r,value:c.value},c.fieldItemProps,{onClick:T=>v(T,c.value,c.fieldItemProps),onChange:T=>y(c.value)}),{default:w(()=>[l(X)(c.fieldSlot)?(p(),P(Z(c.fieldSlot),k({key:0,"model-value":u.radio,column:o},c),null,16,["model-value"])):l(X)(m.fieldChildrenSlot)?(p(),P(Z(m.fieldChildrenSlot),k({key:1,"model-value":u.radio,column:o},c),null,16,["model-value"])):(p(),O(G,{key:2},[se(le(c==null?void 0:c.label),1)],64))]),_:2},1040,["value","onClick","onChange"]))),128))],64))]),_:2},[q(m.fieldSlots,(c,T)=>({name:T,fn:w(B=>[(p(),P(Z(c),z(ae(B)),null,16))])}))]),1040,["modelValue"]))}}),$n=fe(Vn,[["__file","index.vue"]]);const Sn=$n,In={class:"plus-date-picker__middle"};var Tn=U({name:"PlusDatePicker",__name:"index",props:{modelValue:{default:()=>[]},rangeSeparator:{default:"/"},valueFormat:{default:"YYYY-MM-DD HH:mm:ss"},type:{default:"datetime"},startProps:{default:()=>({})},endProps:{default:()=>({})},disabled:{type:Boolean,default:!1},startDisabledDate:{type:Function,default:(e,t)=>t?e.getTime()>new Date(t).getTime():!1},endDisabledDate:{type:Function,default:(e,t)=>t?e.getTime()<new Date(t).getTime():!1}},emits:["change","focus","update:modelValue"],setup(e,{expose:t,emit:a}){const o=e,s=a,{t:r}=Me(),i=lt(),u=L(()=>V(V({},i),o.startProps)),n=L(()=>V(V({},i),o.endProps)),v=S(),y=S(),m=ve({start:"",end:""}),I=Qe(),c=S(!1),T=f=>{c.value=!0,s("focus",f)},B=()=>{c.value=!1},C=f=>o.startDisabledDate&&X(o.startDisabledDate)?o.startDisabledDate(f,m.end):!1,E=f=>o.endDisabledDate&&X(o.endDisabledDate)?o.endDisabledDate(f,m.start):!1;J(()=>o.modelValue,f=>{const[A,R]=f;m.start=A,m.end=R},{immediate:!0});const g=()=>{const f=[m.start,m.end];s("update:modelValue",f),s("change",f)};return t({startPickerInstance:v,endPickerInstance:y}),(f,A)=>Ze((p(),O("div",{class:de(["plus-date-picker",{"is-focus":c.value,"is-disabled":l(I)}])},[x(l(Oe),k({ref_key:"startPickerInstance",ref:v,modelValue:m.start,"onUpdate:modelValue":A[0]||(A[0]=R=>m.start=R),type:f.type,"value-format":f.valueFormat,placeholder:l(r)("plus.datepicker.startPlaceholder"),"disabled-date":C,class:"plus-date-picker__start",clearable:"",disabled:l(I)},u.value,{onChange:g,onFocus:T}),null,16,["modelValue","type","value-format","placeholder","disabled"]),$e("span",In,le(f.rangeSeparator),1),x(l(Oe),k({ref_key:"endPickerInstance",ref:y,modelValue:m.end,"onUpdate:modelValue":A[1]||(A[1]=R=>m.end=R),"value-format":f.valueFormat,type:f.type,placeholder:l(r)("plus.datepicker.endPlaceholder"),"disabled-date":E,class:"plus-date-picker__end",clearable:"",disabled:l(I)},n.value,{onChange:g,onFocus:T}),null,16,["modelValue","value-format","type","placeholder","disabled"])],2)),[[l(Xt),B]])}}),_n=fe(Tn,[["__file","index.vue"]]);const Dn=_n;var Fn=U({name:"PlusInputTag",__name:"index",props:{modelValue:{default:()=>[]},trigger:{default:()=>["blur","enter","space"]},inputProps:{default:()=>({})},tagProps:{default:()=>({})},limit:{default:1/0},formatTag:{type:Function,default:void 0},retainInputValue:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","change","remove","blur","enter","space"],setup(e,{expose:t,emit:a}){const o=e,s=a,r=S(),i=S(),u=S(),n=ve({tags:[],inputValue:"",isFocus:!1}),v=Qe(),{t:y}=Me();J(()=>o.modelValue,C=>{n.tags=C.slice(0,o.limit)},{immediate:!0});const m=()=>{n.isFocus=!1},I=()=>{var C;n.isFocus=!0,(C=r.value)==null||C.focus()},c=C=>{v.value||(n.tags=n.tags.filter(E=>E!==C),s("remove",C),s("update:modelValue",n.tags),s("change",n.tags))},T=()=>{n.inputValue.trim()&&!n.tags.includes(n.inputValue.trim())&&n.tags.length<o.limit&&n.tags.push(n.inputValue.trim()),o.retainInputValue||(n.inputValue=""),s("update:modelValue",n.tags),s("change",n.tags)},B=(C,E)=>{s(E,n.inputValue,C),(Ie(o.trigger)?o.trigger:ot(o.trigger)?[o.trigger]:["blur","enter","space"]).includes(E)&&T()};return t({inputInstance:r,tagInstance:i}),(C,E)=>Ze((p(),O("div",{ref_key:"plusInputTagInstance",ref:u,class:de(["plus-input-tag",{"is-focus":n.isFocus,"is-disabled":l(v)}]),onClick:I},[(p(!0),O(G,null,q(n.tags,g=>(p(),P(l(zt),k({ref_for:!0,ref_key:"tagInstance",ref:i,key:g,class:"plus-input-tag__tag"},C.tagProps,{closable:"",onClose:f=>c(g)}),{default:w(()=>[se(le(C.formatTag&&l(X)(C.formatTag)?C.formatTag(g):g),1)]),_:2},1040,["onClose"]))),128)),n.tags.length<C.limit?(p(),P(l(ge),k({key:0,ref_key:"inputInstance",ref:r,modelValue:n.inputValue,"onUpdate:modelValue":E[0]||(E[0]=g=>n.inputValue=g),class:"plus-input-tag__input",placeholder:n.tags.length?"":l(y)("plus.inputTag.placeholder"),disabled:l(v)||n.tags.length>=C.limit},C.inputProps,{clearable:"",onBlur:E[1]||(E[1]=g=>B(g,"blur")),onKeyup:[E[2]||(E[2]=ft(Ve(g=>B(g,"enter"),["exact"]),["enter"])),E[3]||(E[3]=ft(Ve(g=>B(g,"space"),["exact"]),["space"]))]}),null,16,["modelValue","placeholder","disabled"])):H("v-if",!0)],2)),[[l(Xt),m]])}}),Rn=fe(Fn,[["__file","index.vue"]]);const On=Rn,ol={"plus-radio":{component:Sn,hasOptions:!0},"plus-date-picker":{component:Dn},"plus-input-tag":{component:On},autocomplete:{component:Tt,props:{placeholder:"plus.field.pleaseEnter"},hasSelectEvent:!0},cascader:{component:Dt,hasOptions:!0},checkbox:{component:Rt,children:Ft,hasVersionCompatibility:!0},"color-picker":{component:Bt},"date-picker":{component:Oe,props:{startPlaceholder:"plus.datepicker.startPlaceholder",endPlaceholder:"plus.datepicker.endPlaceholder"}},"input-number":{component:Nt,props:{placeholder:"plus.field.pleaseEnter"}},radio:{component:xe,children:Be,hasVersionCompatibility:!0},rate:{component:Ht},select:{component:et,children:tt},slider:{component:Ut},switch:{component:Wt},"time-picker":{component:Gt},"time-select":{component:qt},transfer:{component:Yt},input:{component:ge,props:{placeholder:"plus.field.pleaseEnter"}},textarea:{component:ge,props:{type:"textarea",placeholder:"plus.field.pleaseEnter"}},"tree-select":{component:Zt}},Bn=e=>Object.keys(ol).includes(e),Ee=e=>Reflect.get(ol,e)||{},Ln={class:"plus-form-item__label"};var An=U({name:"PlusFormItem",__name:"index",props:{modelValue:{default:""},hasLabel:{default:!0},label:{default:""},prop:{},fieldProps:{default:()=>({})},valueType:{default:void 0},options:{default:()=>[]},formItemProps:{default:()=>({})},renderField:{default:void 0},renderLabel:{default:void 0},tooltip:{default:""},fieldSlots:{default:()=>({})},fieldChildrenSlot:{default:void 0},optionsMap:{default:void 0},index:{default:0}},emits:["update:modelValue","change"],setup(e,{expose:t,emit:a}){const o=Mt,s=Xe,r=Je,i=ge,u=et,n=tt,v=e,y=a,{t:m}=Me(),{customOptions:I,customOptionsIsReady:c}=vn(v),T=S(),B=S(),C=S({}),E=S({}),g=S(),f=S(!1),A=S(!1),R=L(()=>fn(v.label)),Q=me(yn,{}),ne=me(gn,{}),h=L(()=>te(V(V({},v),l(ne)),{label:R.value,fieldProps:E.value,formItemProps:C.value,options:I.value})),K=L(()=>{var d,F,N,$,ee,re;return v.valueType==="cascader"&&((F=(d=E.value)==null?void 0:d.props)==null?void 0:F.emitPath)===!1?!1:!!(kn.includes(v.valueType)||v.valueType==="select"&&((N=E.value)==null?void 0:N.multiple)===!0||v.valueType==="date-picker"&&En.includes(($=E.value)==null?void 0:$.type)||v.valueType==="time-picker"&&((ee=E.value)==null?void 0:ee.isRange)===!0||v.valueType==="tree-select"&&((re=E.value)==null?void 0:re.multiple)===!0)}),W=L(()=>!!wn.includes(v.valueType)),j=d=>{if(K.value)if(Ie(d)){const[F,N]=d;He(F)||He(N)?g.value=[String(F),String(N)]:g.value=d}else g.value=[];else W.value?g.value=d==null||d===""?null:typeof d=="string"?Number(d):d:He(d)?g.value=String(d):g.value=d;A.value=!0},b=L(()=>{const{hasOptions:d,hasSelectEvent:F,props:N}=Ee(v.valueType);return V(V(te(V(V(V({},d?{options:I.value}:null),F?{onSelect:oe}:null),N),{placeholder:N!=null&&N.placeholder?m(N==null?void 0:N.placeholder)+R.value:m("plus.field.pleaseSelect")+R.value}),v.valueType==="date-picker"?{startPlaceholder:N!=null&&N.startPlaceholder?m(N==null?void 0:N.startPlaceholder):"",endPlaceholder:N!=null&&N.startPlaceholder?m(N==null?void 0:N.endPlaceholder):""}:null),E.value)}),D=d=>V(V({},v.valueType==="select"?{label:d.label,value:d.value}:ll?{label:d.value}:{label:d.label,value:d.value}),d.fieldItemProps);J(()=>v.formItemProps,d=>{bt(d,g.value,v,v.index,"formItemProps").then(F=>{C.value=F}).catch(F=>{throw F})},{immediate:!0,deep:!0}),J(()=>v.fieldProps,d=>{bt(d,g.value,v,v.index,"fieldProps").then(F=>{E.value=F,f.value=!0}).catch(F=>{throw F})},{immediate:!0,deep:!0}),J(L(()=>[v.modelValue,f.value,c.value]),([d,F,N])=>{F&&N&&j(d)},{immediate:!0,flush:"post"});const M=d=>{y("update:modelValue",d),y("change",d)},oe=({value:d})=>{M(d)};return J(B,()=>{Q.value={fieldInstance:B.value,valueIsReady:A}}),t({formItemInstance:T,fieldInstance:B}),(d,F)=>{var N;return A.value?(p(),P(l(o),k({key:0,ref_key:"formItemInstance",ref:T,label:d.hasLabel?R.value:"",prop:d.prop,class:"plus-form-item"},C.value,{"label-width":d.hasLabel?(N=C.value)==null?void 0:N.labelWidth:"0px"}),ie({default:w(()=>[d.renderField&&l(X)(d.renderField)?(p(),O(G,{key:0},[A.value?(p(),P(l(yt),{key:0,render:d.renderField,params:h.value,"callback-value":g.value,"custom-field-props":E.value,"render-type":"form","handle-change":M},null,8,["render","params","callback-value","custom-field-props"])):H("v-if",!0)],64)):d.$slots[l(ye)(d.prop)]?_(d.$slots,l(ye)(d.prop),z(k({key:1},h.value))):d.valueType==="select"&&E.value.multiple===!0?(p(),P(l(u),k({key:2,ref_key:"fieldInstance",ref:B,modelValue:g.value,"onUpdate:modelValue":F[0]||(F[0]=$=>g.value=$),placeholder:l(m)("plus.field.pleaseSelect")+R.value,class:"plus-form-item-field",clearable:""},E.value,{"onUpdate:modelValue":M}),ie({default:w(()=>[(p(!0),O(G,null,q(l(I),$=>(p(),P(l(n),k({key:$.label,label:$.label,value:$.value},$.fieldItemProps),{default:w(()=>[l(X)($.fieldSlot)?(p(),P(Z($.fieldSlot),z(k({key:0},$)),null,16)):l(X)(d.fieldChildrenSlot)?(p(),P(Z(d.fieldChildrenSlot),z(k({key:1},$)),null,16)):(p(),O(G,{key:2},[se(le($.label),1)],64))]),_:2},1040,["label","value"]))),128))]),_:2},[q(d.fieldSlots,($,ee)=>({name:ee,fn:w(re=>[(p(),P(Z($),z(ae(re)),null,16))])}))]),1040,["modelValue","placeholder"])):l(Bn)(d.valueType)?(p(),O(G,{key:3},[H(" 统一处理 "),H(" has-children  "),l(Ee)(d.valueType).children?(p(),P(Z(l(Ee)(d.valueType).component),k({key:0,ref_key:"fieldInstance",ref:B,modelValue:g.value,"onUpdate:modelValue":F[1]||(F[1]=$=>g.value=$),class:"plus-form-item-field",clearable:""},b.value,{"onUpdate:modelValue":M}),ie({default:w(()=>[(p(!0),O(G,null,q(l(I),$=>(p(),P(Z(l(Ee)(d.valueType).children),k({key:$.label},D($)),{default:w(()=>[l(X)($.fieldSlot)?(p(),P(Z($.fieldSlot),k({key:0,"model-value":g.value,column:h.value},$),null,16,["model-value","column"])):l(X)(d.fieldChildrenSlot)?(p(),P(Z(d.fieldChildrenSlot),k({key:1,"model-value":g.value,column:h.value},$),null,16,["model-value","column"])):(p(),O(G,{key:2},[se(le($.label),1)],64))]),_:2},1040))),128))]),_:2},[q(d.fieldSlots,($,ee)=>({name:ee,fn:w(re=>[(p(),P(Z($),k({value:g.value,column:h.value},re),null,16,["value","column"]))])}))]),1040,["modelValue"])):(p(),O(G,{key:1},[H(" no-children  "),(p(),P(Z(l(Ee)(d.valueType).component),k({ref_key:"fieldInstance",ref:B,modelValue:g.value,"onUpdate:modelValue":F[2]||(F[2]=$=>g.value=$),class:"plus-form-item-field",clearable:"","field-children-slot":d.fieldChildrenSlot},b.value,{"onUpdate:modelValue":M}),ie({_:2},[q(d.fieldSlots,($,ee)=>({name:ee,fn:w(re=>[(p(),P(Z($),k({"model-value":g.value,column:h.value},re),null,16,["model-value","column"]))])}))]),1040,["modelValue","field-children-slot"]))],2112))],64)):d.valueType==="text"?(p(),P(l(Kt),k({key:4,ref_key:"fieldInstance",ref:B,class:"plus-form-item-field"},E.value),{default:w(()=>[se(le(g.value),1)]),_:1},16)):d.valueType==="divider"?(p(),P(l(Lt),k({key:5,ref_key:"fieldInstance",ref:B,class:"plus-form-item-field"},E.value),{default:w(()=>[se(le(g.value),1)]),_:1},16)):(p(),P(l(i),k({key:6,ref_key:"fieldInstance",ref:B,modelValue:g.value,"onUpdate:modelValue":F[3]||(F[3]=$=>g.value=$),class:"plus-form-item-field",placeholder:l(m)("plus.field.pleaseEnter")+R.value,autocomplete:"off",clearable:""},E.value,{"onUpdate:modelValue":M}),ie({_:2},[q(d.fieldSlots,($,ee)=>({name:ee,fn:w(re=>[(p(),P(Z($),k({"model-value":g.value,column:h.value},re),null,16,["model-value","column"]))])}))]),1040,["modelValue","placeholder"]))]),_:2},[d.hasLabel?{name:"label",fn:w(({label:$})=>[$e("span",Ln,[d.renderLabel&&l(X)(d.renderLabel)?(p(),O(G,{key:0},[A.value?(p(),P(l(yt),{key:0,render:d.renderLabel,params:h.value,"callback-value":$,"custom-field-props":E.value},null,8,["render","params","callback-value","custom-field-props"])):H("v-if",!0)],64)):_(d.$slots,l(ke)(d.prop),z(k({key:1},h.value)),()=>[se(le($),1)]),d.tooltip?(p(),P(l(s),k({key:2,placement:"top"},l(rn)(d.tooltip)),{default:w(()=>[_(d.$slots,"tooltip-icon",{},()=>[x(l(r),{class:"plus-table-column__label__icon",size:16},{default:w(()=>[x(l(ua))]),_:1})])]),_:3},16)):H("v-if",!0)])]),key:"0"}:void 0]),1040,["label","prop","label-width"])):H("v-if",!0)}}}),Mn=fe(An,[["__file","index.vue"]]);const Nn=Mn;var Hn=U({name:"PlusCollapseTransition",__name:"collapse-transition",props:{collapseDuration:{default:300},collapseTransition:{type:Boolean,default:!0}},setup(e){const t=e,a={beforeEnter(o){o.style.opacity=0},enter(o,s){requestAnimationFrame(()=>{o.style.transition=`opacity ${t.collapseDuration}ms linear`,o.style.opacity=1,s()})},leave(o,s){o.style.opacity=0,setTimeout(()=>{s()},t.collapseDuration/3*2)}};return(o,s)=>o.collapseTransition?(p(),P(da,k({key:0,name:"plus-collapse-transition",css:!1},ia(a)),{default:w(()=>[_(o.$slots,"default")]),_:3},16)):_(o.$slots,"default",{key:1})}}),jn=fe(Hn,[["__file","collapse-transition.vue"]]);const Un={key:0,class:"plus-form-item-extra"};var Wn=U({name:"PlusFormContent",__name:"form-content",props:{modelValue:{default:()=>({})},hasLabel:{type:Boolean,default:!0},columns:{default:()=>[]},rowProps:{default:()=>({})},colProps:{default:()=>({})},collapseDuration:{default:void 0},collapseTransition:{type:Boolean,default:void 0}},emits:["update:modelValue","change"],setup(e,{emit:t}){const a=e,o=t,s=S({}),r=n=>{const v=l(n);return ca(v)?v:a.hasLabel};J(()=>a.modelValue,n=>{s.value=n},{immediate:!0});const i=n=>dn(s.value,n),u=(n,v)=>{pn(s.value,v.prop,n),o("update:modelValue",s.value),o("change",s.value,v)};return(n,v)=>(p(),P(l(jt),k(n.rowProps,{class:"plus-form__row"}),{default:w(()=>[x(jn,{"collapse-duration":n.collapseDuration,"collapse-transition":n.collapseTransition},{default:w(()=>[(p(!0),O(G,null,q(n.columns,y=>(p(),P(l(Ot),k({key:y.prop},y.colProps||n.colProps),{default:w(()=>[x(l(Nn),k({"model-value":i(y.prop)},y,{"has-label":r(y.hasLabel),onChange:m=>u(m,y)}),ie({_:2},[n.$slots[l(ke)(y.prop)]?{name:l(ke)(y.prop),fn:w(m=>[_(n.$slots,l(ke)(y.prop),z(ae(m)))]),key:"0"}:void 0,n.$slots[l(ye)(y.prop)]?{name:l(ye)(y.prop),fn:w(m=>[_(n.$slots,l(ye)(y.prop),z(ae(m)))]),key:"1"}:void 0,n.$slots["tooltip-icon"]?{name:"tooltip-icon",fn:w(()=>[_(n.$slots,"tooltip-icon")]),key:"2"}:void 0]),1040,["model-value","has-label","onChange"]),H(" el-form-item 下一行额外的内容 "),y.renderExtra||n.$slots[l(Re)(y.prop)]?(p(),O("div",Un,[y.renderExtra&&l(X)(y.renderExtra)?(p(),P(Z(y.renderExtra),z(k({key:0},y)),null,16)):n.$slots[l(Re)(y.prop)]?_(n.$slots,l(Re)(y.prop),z(k({key:1},y))):H("v-if",!0)])):H("v-if",!0)]),_:2},1040))),128))]),_:3},8,["collapse-duration","collapse-transition"]),H(" 搜索的footer插槽  "),_(n.$slots,"search-footer")]),_:3},16))}}),gt=fe(Wn,[["__file","form-content.vue"]]);const zn={class:"plus-form__group__item__icon"};var Kn=U({name:"PlusForm",inheritAttrs:!1,__name:"index",props:{modelValue:{default:()=>({})},defaultValues:{default:()=>({})},columns:{default:()=>[]},labelWidth:{default:"80px"},labelPosition:{default:"left"},rowProps:{default:()=>({})},colProps:{default:()=>({})},labelSuffix:{default:":"},hasErrorTip:{type:Boolean,default:!0},hasFooter:{type:Boolean,default:!0},hasReset:{type:Boolean,default:!0},hasLabel:{type:Boolean,default:!0},submitText:{default:""},resetText:{default:""},submitLoading:{type:Boolean,default:!1},footerAlign:{default:"left"},rules:{default:()=>({})},group:{type:[Boolean,Array],default:!1},cardProps:{default:()=>({})},prevent:{type:Boolean,default:!1},collapseDuration:{default:void 0},collapseTransition:{type:Boolean,default:void 0}},emits:["update:modelValue","submit","change","reset","submitError","validate"],setup(e,{expose:t,emit:a}){const o=e,s=a,{t:r}=Me(),i=S(null),u=S({}),n=h=>h.filter(K=>l(K.hideInForm)!==!0),v=L(()=>u.value),y=L(()=>({justifyContent:o.footerAlign==="left"?"flex-start":o.footerAlign==="center"?"center":"flex-end"})),m=L(()=>n(o.columns)),I=L(()=>{var h;return Ie(o.group)?(h=o.group)==null?void 0:h.filter(K=>l(K.hideInGroup)!==!0):o.group}),c=lt(),T=L(()=>V(V({},c),o.prevent?{onSubmit:Ve((...h)=>{c!=null&&c.onSubmit&&X(c==null?void 0:c.onSubmit)&&c.onSubmit(...h)},["prevent"])}:{})),B=pa(),C=Ue(B,ke()),E=Ue(B,ye()),g=Ue(B,Re());J(()=>o.modelValue,h=>{u.value=h},{immediate:!0});const f=(h,K)=>{s("update:modelValue",u.value),s("change",u.value,K)},A=()=>{var h;(h=i.value)==null||h.clearValidate()},R=()=>_e(this,null,function*(){var h,K,W;try{if(yield(h=i.value)==null?void 0:h.validate())return s("submit",u.value),!0}catch(j){if(o.hasErrorTip){Ge.closeAll();const b=Se(j)&&Object.values(j),D=b?(W=(K=b[0])==null?void 0:K[0])==null?void 0:W.message:void 0;Ge.warning(D||r("plus.form.errorTip"))}s("submitError",j)}return!1}),Q=()=>{A(),u.value=V({},o.defaultValues),s("update:modelValue",u.value),s("reset",u.value)},ne=(...h)=>{s("validate",...h)};return t({formInstance:i,handleSubmit:R,handleReset:Q}),(h,K)=>(p(),P(l(At),k({ref_key:"formInstance",ref:i,rules:h.rules,"label-width":h.hasLabel?h.labelWidth:0,class:["plus-form",h.hasLabel?"":"no-has-label"],"label-position":h.labelPosition,"validate-on-rule-change":!1,"label-suffix":h.hasLabel?h.labelSuffix:""},T.value,{model:v.value,onValidate:ne}),{default:w(()=>[_(h.$slots,"default",{},()=>[H(" 分组表单 "),I.value?(p(!0),O(G,{key:0},q(I.value,(W,j)=>(p(),P(l(_t),k({key:l(W.title)},W.cardProps||h.cardProps,{class:"plus-form__group__item"}),{header:w(()=>[_(h.$slots,"group-header",{title:l(W.title),columns:W.columns,icon:W.icon,index:j},()=>[$e("div",zn,[W.icon?(p(),P(l(Je),{key:0},{default:w(()=>[(p(),P(Z(W.icon)))]),_:2},1024)):H("v-if",!0),se(" "+le(l(W.title)),1)])])]),default:w(()=>[x(gt,{modelValue:u.value,"onUpdate:modelValue":K[0]||(K[0]=b=>u.value=b),"row-props":h.rowProps,"col-props":h.colProps,columns:n(W.columns),"has-label":h.hasLabel,"collapse-transition":h.collapseTransition,"collapse-duration":h.collapseDuration,onChange:f},ie({_:2},[q(l(C),(b,D)=>({name:D,fn:w(M=>[_(h.$slots,D,z(ae(M)))])})),q(l(E),(b,D)=>({name:D,fn:w(M=>[_(h.$slots,D,z(ae(M)))])})),q(l(g),(b,D)=>({name:D,fn:w(M=>[_(h.$slots,D,z(ae(M)))])})),h.$slots["tooltip-icon"]?{name:"tooltip-icon",fn:w(()=>[_(h.$slots,"tooltip-icon")]),key:"0"}:void 0]),1032,["modelValue","row-props","col-props","columns","has-label","collapse-transition","collapse-duration"])]),_:2},1040))),128)):(p(),O(G,{key:1},[H(" 普通表单 "),x(gt,{modelValue:u.value,"onUpdate:modelValue":K[1]||(K[1]=W=>u.value=W),"row-props":h.rowProps,"col-props":h.colProps,columns:m.value,"has-label":h.hasLabel,"collapse-transition":h.collapseTransition,"collapse-duration":h.collapseDuration,onChange:f},ie({_:2},[q(l(C),(W,j)=>({name:j,fn:w(b=>[_(h.$slots,j,z(ae(b)))])})),q(l(E),(W,j)=>({name:j,fn:w(b=>[_(h.$slots,j,z(ae(b)))])})),q(l(g),(W,j)=>({name:j,fn:w(b=>[_(h.$slots,j,z(ae(b)))])})),h.$slots["search-footer"]?{name:"search-footer",fn:w(()=>[_(h.$slots,"search-footer")]),key:"0"}:void 0,h.$slots["tooltip-icon"]?{name:"tooltip-icon",fn:w(()=>[_(h.$slots,"tooltip-icon")]),key:"1"}:void 0]),1032,["modelValue","row-props","col-props","columns","has-label","collapse-transition","collapse-duration"])],64))]),h.hasFooter?(p(),O("div",{key:0,class:"plus-form__footer",style:Pe(y.value)},[_(h.$slots,"footer",z(ae({handleReset:Q,handleSubmit:R})),()=>[h.hasReset?(p(),P(l(Ke),{key:0,onClick:Q},{default:w(()=>[H(" 重置 "),se(" "+le(h.resetText||l(r)("plus.form.resetText")),1)]),_:1})):H("v-if",!0),x(l(Ke),{type:"primary",loading:h.submitLoading,onClick:R},{default:w(()=>[H(" 提交 "),se(" "+le(h.submitText||l(r)("plus.form.submitText")),1)]),_:1},8,["loading"])])],4)):H("v-if",!0)]),_:3},16,["rules","label-width","class","label-position","label-suffix","model"]))}}),Gn=fe(Kn,[["__file","index.vue"]]);const Xn=Gn;export{Xn as P,ye as a,Re as b,Ue as f,ke as g,Me as u};
