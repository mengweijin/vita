import{T as R,E as g}from"./index.esm-Dz2BCyq2.js";import{e as b,w,r as c,a5 as O,o as N,gD as y,gE as B,D as S,E as r,p as k,V as x,S as s,I as a,R as U,H as A,k as d}from"./index-DcU5f0E9.js";const D=b({name:[{required:!0,message:"名称为必填项",trigger:"blur"}]}),P={BASE_URL:"/vitality/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_BASE_API:"",VITE_CDN:"false",VITE_COMPRESSION:"none",VITE_HIDE_HOME:"false",VITE_PORT:"8848",VITE_PUBLIC_PATH:"/vitality/",VITE_ROUTER_HISTORY:"hash"},M={class:"wangeditor"},f="default",L=w({__name:"edit",props:{data:{default:()=>({})}},setup(p,{expose:E}){const{VITE_BASE_API:i}=P,V=i+"/system/oss/upload/wang-editor",v=p,u=c(),t=c(v.data),n=O();function I(){return u.value}E({getRef:I}),N(()=>{});const m={placeholder:"请输入内容...",MENU_CONF:{}};m.MENU_CONF.uploadImage={server:V,headers:{Authorization:y(B())},withCredentials:!1,allowedFileTypes:["image/*"],maxNumberOfFiles:1,base64LimitSize:5*1024,customInsert(e,o){e.data.url&&setTimeout(()=>{o(i+e.data.url)},2e3)}};const T=e=>{n.value=e};return S(()=>{const e=n.value;e!=null&&e.destroy()}),(e,o)=>{const h=r("el-input"),_=r("el-form-item"),C=r("el-form");return k(),x(C,{ref_key:"formRef",ref:u,model:t.value,rules:d(D),"label-width":"82px"},{default:s(()=>[U("",!0),a(_,{label:"标题",prop:"name"},{default:s(()=>[a(h,{modelValue:t.value.name,"onUpdate:modelValue":o[1]||(o[1]=l=>t.value.name=l),clearable:"",placeholder:"请输入标题"},null,8,["modelValue"])]),_:1}),a(_,{label:"内容"},{default:s(()=>[A("div",M,[a(d(R),{editor:n.value,mode:f,style:{"border-bottom":"1px solid #ccc"}},null,8,["editor"]),a(d(g),{modelValue:t.value.description,"onUpdate:modelValue":o[2]||(o[2]=l=>t.value.description=l),defaultConfig:m,mode:f,style:{height:"300px","overflow-y":"hidden"},onOnCreated:T},null,8,["modelValue"])])]),_:1})]),_:1},8,["model","rules"])}}});export{L as _};
