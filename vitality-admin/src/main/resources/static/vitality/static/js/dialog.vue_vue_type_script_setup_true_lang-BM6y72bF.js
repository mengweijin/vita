var L=(g,b,s)=>new Promise((d,r)=>{var m=a=>{try{f(s.next(a))}catch(l){r(l)}},o=a=>{try{f(s.throw(a))}catch(l){r(l)}},f=a=>a.done?d(a.value):Promise.resolve(a.value).then(m,o);f((s=s.apply(g,b)).next())});import{_ as z,b as Q}from"./_plugin-vue_export-helper-BGOXmsV2.js";/* empty css                   */import{u as O,f as C,P as W,g as Z,a as G,b as K}from"./plus-form-nJvfzVDl.js";import{w as _,c as R,r as T,a_ as X,p as D,V as q,bp as B,S as t,af as p,H as I,J as Y,I as w,k as u,eZ as N,T as E,Q as A,as as F,fm as ee,b4 as le,B as U,ap as y,aq as V,L as S,gk as j,E as ae,q as oe}from"./index-DcU5f0E9.js";const te={class:"plus-dialog-body"};var se=_({name:"PlusDialog",inheritAttrs:!1,__name:"index",props:{modelValue:{type:Boolean,default:!1},confirmText:{default:""},cancelText:{default:""},confirmLoading:{type:Boolean,default:!1},hasFooter:{type:Boolean,default:!0},footerAlign:{default:"right"},top:{default:"15vh"},width:{default:"460px"},title:{default:""}},emits:["update:modelValue","cancel","confirm"],setup(g,{emit:b}){const s=g,d=b,r=R(()=>({justifyContent:s.footerAlign==="left"?"flex-start":s.footerAlign==="center"?"center":"flex-end"})),m=T(!1),{t:o}=O();X(()=>{m.value=s.modelValue});const f=()=>{d("confirm")},a=()=>{d("update:modelValue",!1),d("cancel")};return(l,h)=>(D(),q(u(ee),F({modelValue:m.value,"onUpdate:modelValue":h[0]||(h[0]=$=>m.value=$),top:l.top,width:l.width,title:l.title||u(o)("plus.dialog.title"),"close-on-click-modal":!1,"close-on-press-escape":!1,"append-to-body":!1,"before-close":a,class:"plus-dialog"},l.$attrs),B({default:t(()=>[I("div",te,[p(l.$slots,"default")])]),_:2},[l.$slots.header?{name:"header",fn:t(()=>[p(l.$slots,"header")]),key:"0"}:void 0,l.hasFooter?{name:"footer",fn:t(()=>[I("div",{class:"plus-dialog-footer",style:Y(r.value)},[p(l.$slots,"footer",{},()=>[w(u(N),{onClick:a},{default:t(()=>[E(A(l.cancelText||u(o)("plus.dialog.cancelText")),1)]),_:1}),w(u(N),{type:"primary",loading:l.confirmLoading,onClick:f},{default:t(()=>[E(A(l.confirmText||u(o)("plus.dialog.confirmText")),1)]),_:1},8,["loading"])])],4)]),key:"1"}:void 0]),1040,["modelValue","top","width","title"]))}}),re=z(se,[["__file","index.vue"]]);const ne=re;var ie=_({name:"PlusDialogForm",__name:"index",props:{modelValue:{default:()=>({})},visible:{type:Boolean,default:!1},dialog:{default:()=>({})},form:{default:()=>({})},hasErrorTip:{type:Boolean,default:!0}},emits:["update:modelValue","update:visible","confirm","change","cancel","confirmError"],setup(g,{expose:b,emit:s}){const d=g,r=s,{t:m}=O(),o=T(),f=R(()=>{var e;return(e=o.value)==null?void 0:e.formInstance}),a=T({}),l=T(!1),h=le(),$=C(h,Z()),x=C(h,G()),H=C(h,K());U(()=>d.visible,e=>{l.value=e},{immediate:!0}),U(()=>d.modelValue,e=>{a.value=e},{immediate:!0});const J=(e,c)=>{r("update:modelValue",e),r("change",e,c)},k=()=>L(this,null,function*(){var e,c,n;try{(yield(e=f.value)==null?void 0:e.validate())&&r("confirm",a.value)}catch(i){if(d.hasErrorTip){j.closeAll();const v=Q(i)&&Object.values(i),M=v?(n=(c=v[0])==null?void 0:c[0])==null?void 0:n.message:void 0;j.warning(M||m("plus.form.errorTip"))}r("confirmError",i)}}),P=()=>{l.value=!1,r("update:visible",l.value),r("cancel")};return b({handleConfirm:k,handleCancel:P,formInstance:f}),(e,c)=>(D(),q(u(ne),F({modelValue:l.value,"onUpdate:modelValue":c[1]||(c[1]=n=>l.value=n),width:"800px",top:"10vh",title:u(m)("plus.dialogForm.title")},e.dialog,{onCancel:P,onConfirm:k}),B({default:t(()=>[w(u(W),F({ref_key:"formInstance",ref:o,modelValue:a.value,"onUpdate:modelValue":c[0]||(c[0]=n=>a.value=n),"has-footer":!1,"footer-align":"right"},e.form,{onChange:J}),B({_:2},[e.$slots["form-footer"]?{name:"footer",fn:t(n=>[p(e.$slots,"form-footer",y(V(n)))]),key:"0"}:void 0,e.$slots["form-group-header"]?{name:"group-header",fn:t(n=>[p(e.$slots,"form-group-header",y(V(n)))]),key:"1"}:void 0,S(u($),(n,i)=>({name:i,fn:t(v=>[p(e.$slots,i,y(V(v)))])})),S(u(x),(n,i)=>({name:i,fn:t(v=>[p(e.$slots,i,y(V(v)))])})),S(u(H),(n,i)=>({name:i,fn:t(v=>[p(e.$slots,i,y(V(v)))])})),e.$slots["tooltip-icon"]?{name:"tooltip-icon",fn:t(()=>[p(e.$slots,"tooltip-icon")]),key:"2"}:void 0]),1040,["modelValue"])]),_:2},[e.$slots["dialog-header"]?{name:"header",fn:t(()=>[p(e.$slots,"dialog-header")]),key:"0"}:void 0,e.$slots["dialog-footer"]?{name:"footer",fn:t(()=>[p(e.$slots,"dialog-footer",y(V({handleConfirm:k,handleCancel:P})))]),key:"1"}:void 0]),1040,["modelValue","title"]))}}),ue=z(ie,[["__file","index.vue"]]);const de=ue,be=_({__name:"dialog",setup(g){const b=[{label:"名称",width:120,prop:"name",valueType:"copy",tooltip:"名称最多显示6个字符"},{label:"状态",width:120,prop:"status",valueType:"select",options:[{label:"未解决",value:"0",color:"red"},{label:"已解决",value:"1",color:"blue"},{label:"解决中",value:"2",color:"yellow"},{label:"失败",value:"3",color:"red"}]},{label:"是否显示",width:100,prop:"switch",valueType:"switch"},{label:"时间",prop:"time",valueType:"date-picker"},{label:"数量",prop:"number",valueType:"input-number",fieldProps:{precision:2,step:2}},{label:"城市",prop:"city",valueType:"cascader",options:[{value:"0",label:"陕西",children:[{value:"0-0",label:"西安",children:[{value:"0-0-0",label:"新城区"},{value:"0-0-1",label:"高新区"},{value:"0-0-2",label:"灞桥区"}]}]},{value:"1",label:"山西",children:[{value:"1-0",label:"太原",children:[{value:"1-0-0",label:"小店区"},{value:"1-0-1",label:"古交市"},{value:"1-0-2",label:"万柏林区"}]}]}]},{label:"地区",prop:"place",tooltip:"请精确到门牌号",fieldProps:{placeholder:"请精确到门牌号"}},{label:"要求",prop:"demand",valueType:"checkbox",options:[{label:"四六级",value:"0"},{label:"计算机二级证书",value:"1"},{label:"普通话证书",value:"2"}]},{label:"梦想",prop:"gift",valueType:"radio",options:[{label:"诗",value:"0"},{label:"远方",value:"1"},{label:"美食",value:"2"}]},{label:"到期时间",prop:"endTime",valueType:"date-picker",fieldProps:{type:"datetimerange",startPlaceholder:"请选择开始时间",endPlaceholder:"请选择结束时间"}},{label:"说明",prop:"desc",valueType:"textarea",fieldProps:{maxlength:10,showWordLimit:!0,autosize:{minRows:2,maxRows:4}}}],s=T(!1),d=T({}),r=()=>{s.value=!0};return(m,o)=>{const f=ae("el-button");return D(),oe("div",null,[w(f,{onClick:r},{default:t(()=>o[2]||(o[2]=[E("打开弹窗表单")])),_:1}),w(u(de),{visible:s.value,"onUpdate:visible":o[0]||(o[0]=a=>s.value=a),modelValue:d.value,"onUpdate:modelValue":o[1]||(o[1]=a=>d.value=a),form:{columns:b}},null,8,["visible","modelValue","form"])])}}});export{be as _};
