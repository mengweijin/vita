import{useDetailColumns as j}from"./detail-columns-Dgbgbdui.js";import{S as L}from"./vue-json-pretty-D1eGRSs8.js";import{u as P}from"./hooks-dHEbcyFv.js";import{d as E}from"./delete-Ce0TSdK5.js";import{aB as m,d as F,a as b,p as I,e as o,f as l,k as c,i as e,w as n,u as r,b as p,F as k,l as M,t as U,j as v,h as g}from"./index-BOgzzpjy.js";const Q=a=>m.get("/monitor/user-online/page",{params:a}),W=a=>m.post("/monitor/user-online/kick-out-by-username/"+a),$=a=>m.post("/monitor/user-online/kick-out-by-token",{data:a}),z={key:1},X=F({__name:"detail",props:{data:{default:()=>({})}},setup(a){const u=b(a.data),{detailColumns:h}=j(),y=b([{title:"ID",name:"id",json:!1,data:u.value.id}]),w=u.value.tokenSignList,C=I(()=>!1);function D(_,s){$({value:_.value}).then(()=>{this.tableData.splice(s,1)})}return(_,s)=>{const x=o("PureDescriptions"),f=o("el-scrollbar"),B=o("el-tab-pane"),N=o("el-tabs"),O=o("el-divider"),i=o("el-table-column"),S=o("el-button"),T=o("el-popconfirm"),V=o("el-table");return l(),c("div",null,[e(f,null,{default:n(()=>[e(x,{border:"",data:[u.value],columns:r(h),column:2},null,8,["data","columns"])]),_:1}),C.value?(l(),p(N,{key:0,modelValue:"errorMsg",type:"border-card",class:"mt-4"},{default:n(()=>[(l(!0),c(k,null,M(y.value,(t,d)=>(l(),p(B,{key:d,name:t.name,label:t.title},{default:n(()=>[e(f,{"max-height":"calc(100vh - 240px)"},{default:n(()=>[t.data!=null?(l(),c(k,{key:0},[t.json?(l(),p(r(L),{key:0,data:JSON.parse(t.data)},null,8,["data"])):(l(),c("div",z,U(t.data),1))],64)):v("",!0)]),_:2},1024)]),_:2},1032,["name","label"]))),128))]),_:1})):v("",!0),e(O,{"content-position":"left"},{default:n(()=>s[0]||(s[0]=[g("账号登录设备")])),_:1}),e(V,{data:r(w),"show-overflow-tooltip":"",border:"",style:{width:"100%"}},{default:n(()=>[e(i,{prop:"device",label:"设备类型",width:"120"}),e(i,{prop:"token",label:"Token"}),e(i,{prop:"tag",label:"Tag",width:"80"}),e(i,{fixed:"right",label:"操作",width:"80"},{default:n(({row:t,$index:d})=>[e(T,{width:500,title:`是否从设备类型为【${t.device}】的设备【强制下线】当前用户？`,onConfirm:R=>D(t,d)},{reference:n(()=>[e(S,{class:"reset-margin",link:"",type:"primary",size:"default",icon:r(P)(r(E))},{default:n(()=>s[1]||(s[1]=[g(" 下线 ")])),_:1},8,["icon"])]),_:2},1032,["title","onConfirm"])]),_:1})]),_:1},8,["data"])])}}});export{X as _,Q as g,W as k};
