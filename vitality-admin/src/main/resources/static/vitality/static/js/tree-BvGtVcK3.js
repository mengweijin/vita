var K=Object.defineProperty,W=Object.defineProperties;var X=Object.getOwnPropertyDescriptors;var N=Object.getOwnPropertySymbols;var Y=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable;var M=(l,e,n)=>e in l?K(l,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):l[e]=n,g=(l,e)=>{for(var n in e||(e={}))Y.call(e,n)&&M(l,n,e[n]);if(N)for(var n of N(e))Z.call(e,n)&&M(l,n,e[n]);return l},x=(l,e)=>W(l,X(e));import{p as b,q as k,H as _,w as ee,r as v,c as te,B as le,E as c,ab as oe,F as R,I as o,S as s,G as ne,O as w,k as u,T as y,Q as j,J as ae,i as re,_ as ie}from"./index-CKX0gG-m.js";import{u as A}from"./hooks-BeD412IW.js";import{d as se}from"./restart-line-BQhixTtF.js";import{d as ce}from"./more-2-fill-iTOisMwj.js";const de={width:1024,height:1024,body:'<path fill="currentColor" d="M878.08 448H241.92l-96 384h636.16l96-384zM832 384v-64H485.76L357.504 192H128v448l57.92-231.744A32 32 0 0 1 216.96 384H832zm-24.96 512H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h287.872l128.384 128H864a32 32 0 0 1 32 32v96h23.04a32 32 0 0 1 31.04 39.744l-112 448A32 32 0 0 1 807.04 896z"/>'},ue={width:384,height:512,body:'<path fill="currentColor" d="M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"/>'},he={width:"32",height:"32",viewBox:"0 0 24 24"};function pe(l,e){return b(),k("svg",he,e[0]||(e[0]=[_("path",{fill:"currentColor",d:"M22 4V2H2v2h9v14.17l-5.5-5.5-1.42 1.41L12 22l7.92-7.92-1.42-1.41-5.5 5.5V4z"},null,-1)]))}const fe={render:pe},me={width:"32",height:"32",viewBox:"0 0 24 24"};function ve(l,e){return b(),k("svg",me,e[0]||(e[0]=[_("path",{fill:"currentColor",d:"M4 2H2v20h2v-9h14.17l-5.5 5.5 1.41 1.42L22 12l-7.92-7.92-1.41 1.42 5.5 5.5H4z"},null,-1)]))}const _e={render:ve},ge={class:"h-full bg-bg_color overflow-auto",style:{minHeight:"calc(100vh - 141px)"}},xe={class:"flex items-center h-[34px]"},we=ee({__name:"tree",props:{treeLoading:Boolean,treeData:Array},emits:["tree-select"],setup(l,{expose:e,emit:n}){const D=n,H=v(),p=v(!0),h=v(""),r=v({}),{proxy:L}=re(),S={children:"children",label:"name"},C=te(()=>["!h-[20px]","!text-sm","reset-margin","!text-[var(--el-text-color-regular)]","dark:!text-white","dark:hover:!text-primary"]),T=(a,t)=>a?t.name.includes(a):!0;function U(a){var i,f;const t=a.$treeNodeId;r.value[t]=(i=r.value[t])!=null&&i.highlight?Object.assign({id:t},r.value[t],{highlight:!1}):Object.assign({id:t},r.value[t],{highlight:!0}),Object.values(r.value).forEach(m=>{m.id!==t&&(m.highlight=!1)}),D("tree-select",(f=r.value[t])!=null&&f.highlight?Object.assign(x(g({},a),{selected:!0})):Object.assign(x(g({},a),{selected:!1})))}function z(a){p.value=a;const t=L.$refs.treeRef.store._getAllNodes();for(let i=0;i<t.length;i++)t[i].expanded=a}function V(){r.value={},h.value="",z(!0)}return le(h,a=>{H.value.filter(a)}),e({onTreeReset:V}),(a,t)=>{const i=c("IconifyIconOffline"),f=c("el-icon"),m=c("el-input"),I=c("el-button"),$=c("el-dropdown-item"),q=c("el-dropdown-menu"),F=c("el-dropdown"),G=c("el-divider"),J=c("el-tree"),P=oe("loading");return R((b(),k("div",ge,[_("div",xe,[o(m,{modelValue:h.value,"onUpdate:modelValue":t[0]||(t[0]=d=>h.value=d),class:"ml-2",size:"small",placeholder:"请输入模板名称",clearable:""},{suffix:s(()=>[o(f,{class:"el-input__icon"},{default:s(()=>[R(o(i,{icon:"ri:search-line"},null,512),[[ne,h.value.length===0]])]),_:1})]),_:1},8,["modelValue"]),o(F,{"hide-on-click":!1},{dropdown:s(()=>[o(q,null,{default:s(()=>[o($,null,{default:s(()=>[o(I,{class:w(C.value),link:"",type:"primary",icon:u(A)(p.value?u(fe):u(_e)),onClick:t[1]||(t[1]=d=>z(!p.value))},{default:s(()=>[y(j(p.value?"折叠全部":"展开全部"),1)]),_:1},8,["class","icon"])]),_:1}),o($,null,{default:s(()=>[o(I,{class:w(C.value),link:"",type:"primary",icon:u(A)(u(se)),onClick:V},{default:s(()=>t[2]||(t[2]=[y(" 重置状态 ")])),_:1},8,["class","icon"])]),_:1})]),_:1})]),default:s(()=>[o(i,{class:"w-[28px] cursor-pointer",width:"18px",icon:u(ce)},null,8,["icon"])]),_:1})]),o(G),o(J,{ref_key:"treeRef",ref:H,data:l.treeData,"node-key":"id",size:"small",props:S,"default-expand-all":"","expand-on-click-node":!1,"filter-node-method":T,onNodeClick:U},{default:s(({node:d,data:Q})=>{var O,B,E;return[_("span",{class:w(["pl-1","pr-1","rounded","flex","items-center","select-none","hover:text-primary",h.value.trim().length>0&&d.label.includes(h.value)&&"text-red-500",(O=r.value[d.id])!=null&&O.highlight?"dark:text-primary":""]),style:ae({color:(B=r.value[d.id])!=null&&B.highlight?"var(--el-color-primary)":"",background:(E=r.value[d.id])!=null&&E.highlight?"var(--el-color-primary-light-7)":"transparent"})},[o(i,{icon:Q.directory?u(de):u(ue)},null,8,["icon"]),y("  "+j(d.label),1)],6)]}),_:1},8,["data"])])),[[P,l.treeLoading]])}}}),ze=ie(we,[["__scopeId","data-v-7fd1b80b"]]);export{ze as default};
