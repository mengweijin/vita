var c=(r,s,t)=>new Promise((i,o)=>{var n=a=>{try{l(t.next(a))}catch(e){o(e)}},m=a=>{try{l(t.throw(a))}catch(e){o(e)}},l=a=>a.done?i(a.value):Promise.resolve(a.value).then(n,m);l((t=t.apply(r,s)).next())});import{g,a as y}from"./gen-FIIw_uSA.js";import{R as v}from"./index-o8UmT3vP.js";import{e as b,r as d,o as N,I as P,a1 as R,bt as I,aj as K}from"./index-DcU5f0E9.js";import"./hooks-CU6ReGbj.js";import"./download-CFfJ8-ZW.js";import"./refresh-C_2cW1e5.js";import"./tree-B_qsCKea.js";import"./restart-line-BQhixTtF.js";import"./more-2-fill-iTOisMwj.js";import"./dict-Bc4Ygahn.js";function j(){const r=b({}),s=d([]),t=d(!1),i=d(!0),o=[{label:"表名称",prop:"name",align:"left",fixed:"left",minWidth:110},{label:"存在主键",prop:"havePrimaryKey",width:80,cellRenderer:({row:a,props:e})=>P(v,{size:e.size,code:"vtl_yes_no",value:a.havePrimaryKey?"Y":"N"},null)},{label:"字段",prop:"fieldNames",align:"left",minWidth:300},{label:"表注释信息",prop:"comment",minWidth:50,hide:!0},{label:"操作",fixed:"right",width:110,slot:"operation"}];function n(){return c(this,null,function*(){i.value=!0,s.value=yield g(R(r)),setTimeout(()=>{i.value=!1},500)})}function m(a="生成代码",e){var u,f,p,h;I({title:`${a+"【"+e.name+"】"}`,props:{formInline:{name:(u=e==null?void 0:e.name)!=null?u:"",havePrimaryKey:(f=e==null?void 0:e.havePrimaryKey)!=null?f:"",fieldNames:(p=e==null?void 0:e.fieldNames)!=null?p:"",remark:(h=e==null?void 0:e.comment)!=null?h:""}},width:"90%",draggable:!0,fullscreen:!0,fullscreenIcon:!0,closeOnClickModal:!1,hideFooter:!0,contentRenderer:()=>K(y,{formInline:null})})}const l=a=>{a&&(a.resetFields(),n())};return N(()=>c(this,null,function*(){n()})),{form:r,isShow:t,loading:i,columns:o,dataList:s,onSearch:n,resetForm:l,openDialog:m}}export{j as useGenerator};
