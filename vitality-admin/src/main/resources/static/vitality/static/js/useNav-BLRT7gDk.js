import{ag as D,c,aA as Y,y as q,a3 as V,r as F,g as M,aB as X,N as Z,j as z,aC as H,aD as _,aE as $,aF as ee,h as te,aG as oe,aH as ae,z as re,Y as G,ax as w,f as le,a0 as se,t as N,aI as ue,x as ne,aJ as ce}from"./index-CKX0gG-m.js";import{u as B}from"./app-nYRBiARs.js";import{u as A}from"./epTheme-CbgIfPLV.js";import{e as j}from"./mitt-E5P-NQ8u.js";import{u as ie}from"./user-D6ptNJJ0.js";function me(){const{$storage:r,$config:e}=D(),v=()=>{var p,S,f,m,g,y,k,E,T,h,o,a,n,i,u,C,b;Y().multiTagsCache&&(!r.tags||r.tags.length===0)&&(r.tags=q),r.locale||(r.locale={locale:(p=e==null?void 0:e.Locale)!=null?p:"zh"},V().locale.value=(S=e==null?void 0:e.Locale)!=null?S:"zh"),r.layout||(r.layout={layout:(f=e==null?void 0:e.Layout)!=null?f:"vertical",theme:(m=e==null?void 0:e.Theme)!=null?m:"light",darkMode:(g=e==null?void 0:e.DarkMode)!=null?g:!1,sidebarStatus:(y=e==null?void 0:e.SidebarStatus)!=null?y:!0,epThemeColor:(k=e==null?void 0:e.EpThemeColor)!=null?k:"#409EFF",themeColor:(E=e==null?void 0:e.Theme)!=null?E:"light",overallStyle:(T=e==null?void 0:e.OverallStyle)!=null?T:"light"}),r.configure||(r.configure={grey:(h=e==null?void 0:e.Grey)!=null?h:!1,weak:(o=e==null?void 0:e.Weak)!=null?o:!1,hideTabs:(a=e==null?void 0:e.HideTabs)!=null?a:!1,hideFooter:(n=e.HideFooter)!=null?n:!0,showLogo:(i=e==null?void 0:e.ShowLogo)!=null?i:!0,showModel:(u=e==null?void 0:e.ShowModel)!=null?u:"smart",multiTagsCache:(C=e==null?void 0:e.MultiTagsCache)!=null?C:!1,stretch:(b=e==null?void 0:e.Stretch)!=null?b:!1})},l=c(()=>r==null?void 0:r.layout.layout),d=c(()=>r.layout);return{layout:l,layoutTheme:d,initStorage:v}}function Te(){var T,h;const{layoutTheme:r,layout:e}=me(),v=F([{color:"#ffffff",themeColor:"light"},{color:"#1b2a47",themeColor:"default"},{color:"#722ed1",themeColor:"saucePurple"},{color:"#eb2f96",themeColor:"pink"},{color:"#f5222d",themeColor:"dusk"},{color:"#fa541c",themeColor:"volcano"},{color:"#13c2c2",themeColor:"mingQing"},{color:"#52c41a",themeColor:"auroraGreen"}]),{$storage:l}=D(),d=F((T=l==null?void 0:l.layout)==null?void 0:T.darkMode),p=F((h=l==null?void 0:l.layout)==null?void 0:h.overallStyle),S=document.documentElement;function f(o,a,n){const i=n||document.body;let{className:u}=i;u=u.replace(a,"").trim(),i.className=o?`${u} ${a}`:u}function m(o=(n=>(n=M().Theme)!=null?n:"light")(),a=!0){var u,C;r.value.theme=o,document.documentElement.setAttribute("data-theme",o);const i=l.layout.themeColor;if(l.layout={layout:e.value,theme:o,darkMode:d.value,sidebarStatus:(u=l.layout)==null?void 0:u.sidebarStatus,epThemeColor:(C=l.layout)==null?void 0:C.epThemeColor,themeColor:a?o:i,overallStyle:p.value},o==="default"||o==="light")y(M().EpThemeColor);else{const b=v.value.find(P=>P.themeColor===o);y(b.color)}}function g(o,a,n){document.documentElement.style.setProperty(`--el-color-primary-${o}-${a}`,d.value?$(n,a/10):ee(n,a/10))}const y=o=>{A().setEpThemeColor(o),document.documentElement.style.setProperty("--el-color-primary",o);for(let a=1;a<=2;a++)g("dark",a,o);for(let a=1;a<=9;a++)g("light",a,o)};function k(o){p.value=o,A().epTheme==="light"&&d.value?m("default",!1):m(A().epTheme,!1),d.value?document.documentElement.classList.add("dark"):(l.layout.themeColor==="light"&&m("light",!1),document.documentElement.classList.remove("dark"))}function E(){X(),Z().clear();const{Grey:o,Weak:a,MultiTagsCache:n,EpThemeColor:i,Layout:u}=M();B().setLayout(u),y(i),z().multiTagsCacheChange(n),f(o,"html-grey",document.querySelector("html")),f(a,"html-weakness",document.querySelector("html")),H.push("/login"),z().handleTags("equal",[...q]),_()}return{body:S,dataTheme:d,overallStyle:p,layoutTheme:r,themeColors:v,onReset:E,toggleClass:f,dataThemeChange:k,setEpThemeColor:y,setLayoutThemeColor:m}}const he="The current routing configuration is incorrect, please check the configuration";function Ce(){var I,R;const r=B(),e=te().options.routes,{isFullscreen:v,toggle:l}=oe(),{wholeMenus:d}=ae(re()),p=(R=(I=M())==null?void 0:I.TooltipEffect)!=null?R:"light",S=c(()=>({width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",overflow:"hidden"})),f=c(()=>{var t,s;return G((t=w())==null?void 0:t.avatar)?ie:(s=w())==null?void 0:s.avatar}),m=c(()=>{var t,s,L;return G((t=w())==null?void 0:t.nickname)?(s=w())==null?void 0:s.username:(L=w())==null?void 0:L.nickname}),g=c(()=>(t,s)=>({background:t===s?A().epThemeColor:"",color:t===s?"#f4f4f5":"#000"})),y=c(()=>(t,s)=>t===s?"":"dark:hover:!text-primary"),k=c(()=>m.value?{marginRight:"10px"}:""),E=c(()=>!r.getSidebarStatus),T=c(()=>r.getDevice),{$storage:h,$config:o}=D(),a=c(()=>{var t;return(t=h==null?void 0:h.layout)==null?void 0:t.layout}),n=c(()=>o.Title);function i(t){const s=M().Title;s?document.title=`${N(t.title)} | ${s}`:document.title=N(t.title)}function u(){ue().then(()=>{w().logOut()})}function C(){var t;H.push((t=ne())==null?void 0:t.path)}function b(){j.emit("openPanel")}function P(){H.push({name:"AccountSettings"})}function O(){r.toggleSideBar()}function U(t){t==null||t.handleResize()}function W(t){var x;if(!t.children)return console.error(he);const s=/^http(s?):\/\//,L=(x=t.children[0])==null?void 0:x.path;return s.test(L)?t.path+"/"+L:L}function J(t){d.value.length===0||K(t)||j.emit("changLayoutRoute",t)}function K(t){return ce.includes(t)}function Q(){return new URL("/vitality/logo.svg",import.meta.url).href}return{title:n,device:T,layout:a,logout:u,routers:e,$storage:h,isFullscreen:v,Fullscreen:le,ExitFullscreen:se,toggle:l,backTopMenu:C,onPanel:b,getDivStyle:S,changeTitle:i,toggleSideBar:O,menuSelect:J,handleResize:U,resolvePath:W,getLogo:Q,isCollapse:E,pureApp:r,username:m,userAvatar:f,avatarsStyle:k,tooltipEffect:p,toAccountSettings:P,getDropdownItemStyle:g,getDropdownItemClass:y}}export{Te as a,me as b,Ce as u};
