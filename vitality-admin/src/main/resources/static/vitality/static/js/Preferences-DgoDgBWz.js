var h=(u,r,e)=>new Promise((p,i)=>{var t=a=>{try{n(e.next(a))}catch(l){i(l)}},s=a=>{try{n(e.throw(a))}catch(l){i(l)}},n=a=>a.done?p(a.value):Promise.resolve(a.value).then(t,s);n((e=e.apply(u,r)).next())});import{bc as g,w as y,r as x,o as C,E as _,p as f,q as m,H as c,K as V,L as P,Q as k,I as v,S as N,T as U,O as B,k as M,aa as T,_ as q}from"./index-DcU5f0E9.js";const E=()=>g.get("/system/user-preference/query"),I=u=>g.post("/system/user-preference/save",{data:u}),L={class:"flex items-center"},S={class:"flex-1"},Y={class:"wp-4"},b=y({name:"Preferences",__name:"Preferences",setup(u){const r=x(null),e=x([{prop:"userMessage",title:"用户消息",illustrate:"其他用户的消息将以站内信的形式通知",checked:!0},{prop:"systemMessage",title:"系统消息",illustrate:"系统消息将以站内信的形式通知",checked:!0},{prop:"todoTask",title:"待办任务",illustrate:"待办任务将以站内信的形式通知",checked:!0}]);function p(t){if(!r.value)return!0;let s=r.value[t];return!s||s==="Y"}function i(t,s){I({[s.prop]:t===!1?"N":"Y"})}return C(()=>h(this,null,function*(){r.value=yield E();for(let t in e.value)e.value[t].checked=p(e.value[t].prop)})),(t,s)=>{const n=_("el-text"),a=_("el-switch"),l=_("el-divider");return f(),m("div",{class:B(["min-w-[180px]",M(T)()?"max-w-[100%]":"max-w-[70%]"])},[s[0]||(s[0]=c("h3",{class:"my-8"},"偏好设置",-1)),(f(!0),m(V,null,P(e.value,(o,w)=>(f(),m("div",{key:w},[c("div",L,[c("div",S,[c("p",null,k(o.title),1),c("p",Y,[v(n,{class:"mx-1",type:"info"},{default:N(()=>[U(k(o.illustrate),1)]),_:2},1024)])]),v(a,{modelValue:o.checked,"onUpdate:modelValue":d=>o.checked=d,"inline-prompt":"","active-text":"是","inactive-text":"否",onChange:d=>i(d,o)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),v(l)]))),128))],2)}}}),F=q(b,[["__scopeId","data-v-d370ead2"]]);export{F as default};
