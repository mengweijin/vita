var h=(u,n,e)=>new Promise((d,i)=>{var t=a=>{try{r(e.next(a))}catch(l){i(l)}},s=a=>{try{r(e.throw(a))}catch(l){i(l)}},r=a=>a.done?d(a.value):Promise.resolve(a.value).then(t,s);r((e=e.apply(u,n)).next())});import{aB as g,d as y,a as x,m as C,e as _,f,k as m,g as c,F as V,l as P,t as k,i as v,w as B,h as N,v as U,u as M,X as F,_ as T}from"./index-BOgzzpjy.js";const Y=()=>g.get("/system/user-preference/query"),q=u=>g.post("/system/user-preference/save",{data:u}),z={class:"flex items-center"},D={class:"flex-1"},E={class:"wp-4"},I=y({name:"Preferences",__name:"Preferences",setup(u){const n=x(null),e=x([{prop:"userMessage",title:"用户消息",illustrate:"其他用户的消息将以站内信的形式通知",checked:!0},{prop:"systemMessage",title:"系统消息",illustrate:"系统消息将以站内信的形式通知",checked:!0},{prop:"todoTask",title:"待办任务",illustrate:"待办任务将以站内信的形式通知",checked:!0}]);function d(t){if(!n.value)return!0;let s=n.value[t];return!s||s==="Y"}function i(t,s){q({[s.prop]:t===!1?"N":"Y"})}return C(()=>h(this,null,function*(){n.value=yield Y();for(let t in e.value)e.value[t].checked=d(e.value[t].prop)})),(t,s)=>{const r=_("el-text"),a=_("el-switch"),l=_("el-divider");return f(),m("div",{class:U(["min-w-[180px]",M(F)()?"max-w-[100%]":"max-w-[70%]"])},[s[0]||(s[0]=c("h3",{class:"my-8"},"偏好设置",-1)),(f(!0),m(V,null,P(e.value,(o,w)=>(f(),m("div",{key:w},[c("div",z,[c("div",D,[c("p",null,k(o.title),1),c("p",E,[v(r,{class:"mx-1",type:"info"},{default:B(()=>[N(k(o.illustrate),1)]),_:2},1024)])]),v(a,{modelValue:o.checked,"onUpdate:modelValue":p=>o.checked=p,"inline-prompt":"","active-text":"是","inactive-text":"否",onChange:p=>i(p,o)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),v(l)]))),128))],2)}}}),X=T(I,[["__scopeId","data-v-d370ead2"]]);export{X as default};
